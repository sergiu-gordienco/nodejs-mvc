<!DOCTYPE html>
<!-- saved from url=(0054)http://nodejs.org/docs/v0.3.1/api/all.html#dns.reverse -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-2">
  <title>all - Node.js Manual &amp; Documentation</title>
  <link rel="stylesheet" href="./documentation_files/style.css" type="text/css" media="all">
  <link rel="stylesheet" href="./documentation_files/sh.css" type="text/css" media="all">
  <script type="text/javascript" src="./documentation_files/jquery.js"></script>
</head>
<body>
  <div id="container">
    <header>
      <h1>Node.js Manual &amp; Documentation</h1>
      <div id="gtoc">
        <p><a href="http://nodejs.org/docs/v0.3.1/api/index.html">Index</a> | <a href="http://nodejs.org/docs/v0.3.1/api/all.html">View on single page</a></p>
      </div>
      <hr>
    </header><div id="toc">
<h2>Table Of Contents <a id="toggler" href="http://nodejs.org/docs/v0.3.1/api/all.html#toc">Hide</a></h2>
<ul>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#synopsis">Synopsis</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#global_Objects">Global Objects</a>
<ul>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#global">global</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#process">process</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#require">require()</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#require.resolve">require.resolve()</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#require.paths">require.paths</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#__filename">__filename</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#__dirname">__dirname</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#module">module</a>
</li>
</ul>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#timers">Timers</a>
<ul>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#setTimeout">setTimeout(callback, delay, [arg], [...])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#clearTimeout">clearTimeout(timeoutId)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#setInterval">setInterval(callback, delay, [arg], [...])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#clearInterval">clearInterval(intervalId)</a>
</li>
</ul>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#standard_Modules">Standard Modules</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#modules">Modules</a>
<ul>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#module_Resolving">Module Resolving</a>
</li>
</ul>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#addons">Addons</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#process">process</a>
<ul>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#event_exit_">Event: 'exit'</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#event_uncaughtException_">Event: 'uncaughtException'</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#signal_Events">Signal Events</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#process.stdout">process.stdout</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#process.openStdin">process.openStdin()</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#process.argv">process.argv</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#process.execPath">process.execPath</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#process.chdir">process.chdir(directory)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#process.cwd">process.cwd()</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#process.env">process.env</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#process.exit">process.exit(code=0)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#process.getgid">process.getgid()</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#process.setgid">process.setgid(id)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#process.getuid">process.getuid()</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#process.setuid">process.setuid(id)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#process.version">process.version</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#process.installPrefix">process.installPrefix</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#process.kill">process.kill(pid, signal='SIGINT')</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#process.pid">process.pid</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#process.title">process.title</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#process.platform">process.platform</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#process.memoryUsage">process.memoryUsage()</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#process.nextTick">process.nextTick(callback)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#process.umask">process.umask([mask])</a>
</li>
</ul>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#util">util</a>
<ul>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#util.debug">util.debug(string)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#util.log">util.log(string)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#util.inspect">util.inspect(object, showHidden=false, depth=2)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#util.pump">util.pump(readableStream, writeableStream, [callback])</a>
</li>
</ul>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#events">Events</a>
<ul>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#events.EventEmitter">events.EventEmitter</a>
<ul>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#emitter.addListener">emitter.addListener(event, listener)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#emitter.on">emitter.on(event, listener)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#emitter.once">emitter.once(event, listener)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#emitter.removeListener">emitter.removeListener(event, listener)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#emitter.removeAllListeners">emitter.removeAllListeners(event)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#emitter.listeners">emitter.listeners(event)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#emitter.emit">emitter.emit(event, [arg1], [arg2], [...])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#event_newListener_">Event: 'newListener'</a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#buffers">Buffers</a>
<ul>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#new_Buffer">new Buffer(size)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#new_Buffer">new Buffer(array)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#new_Buffer">new Buffer(str, encoding='utf8')</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#buffer.write">buffer.write(string, offset=0, encoding='utf8')</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#buffer.toString">buffer.toString(encoding, start=0, end=buffer.length)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#buffer_index_">buffer[index]</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#buffer.byteLength">Buffer.byteLength(string, encoding='utf8')</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#buffer.length">buffer.length</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#buffer.copy">buffer.copy(targetBuffer, targetStart, sourceStart, sourceEnd=buffer.length)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#buffer.slice">buffer.slice(start, end=buffer.length)</a>
</li>
</ul>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#streams">Streams</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#readable_Stream">Readable Stream</a>
<ul>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#event_data_">Event: 'data'</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#event_end_">Event: 'end'</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#event_error_">Event: 'error'</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#event_close_">Event: 'close'</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#event_fd_">Event: 'fd'</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#stream.readable">stream.readable</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#stream.setEncoding">stream.setEncoding(encoding)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#stream.pause">stream.pause()</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#stream.resume">stream.resume()</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#stream.destroy">stream.destroy()</a>
</li>
</ul>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#writable_Stream">Writable Stream</a>
<ul>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#event_drain_">Event: 'drain'</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#event_error_">Event: 'error'</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#event_close_">Event: 'close'</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#stream.writeable">stream.writeable</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#stream.write">stream.write(string, encoding='utf8', [fd])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#stream.write">stream.write(buffer)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#stream.end">stream.end()</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#stream.end">stream.end(string, encoding)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#stream.end">stream.end(buffer)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#stream.destroy">stream.destroy()</a>
</li>
</ul>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#crypto">Crypto</a>
<ul>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#crypto.createCredentials">crypto.createCredentials(details)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#crypto.createHash">crypto.createHash(algorithm)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#hash.update">hash.update(data)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#hash.digest">hash.digest(encoding='binary')</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#crypto.createHmac">crypto.createHmac(algorithm, key)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#hmac.update">hmac.update(data)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#hmac.digest">hmac.digest(encoding='binary')</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#crypto.createCipher">crypto.createCipher(algorithm, key)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#cipher.update">cipher.update(data, input_encoding='binary', output_encoding='binary')</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#cipher.final">cipher.final(output_encoding='binary')</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#crypto.createDecipher">crypto.createDecipher(algorithm, key)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#decipher.update">decipher.update(data, input_encoding='binary', output_encoding='binary')</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#decipher.final">decipher.final(output_encoding='binary')</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#crypto.createSign">crypto.createSign(algorithm)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#signer.update">signer.update(data)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#signer.sign">signer.sign(private_key, output_format='binary')</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#crypto.createVerify">crypto.createVerify(algorithm)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#verifier.update">verifier.update(data)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#verifier.verify">verifier.verify(public_key, signature, signature_format='binary')</a>
</li>
</ul>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#file_System">File System</a>
<ul>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.rename">fs.rename(path1, path2, [callback])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.renameSync">fs.renameSync(path1, path2)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.truncate">fs.truncate(fd, len, [callback])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.truncateSync">fs.truncateSync(fd, len)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.chmod">fs.chmod(path, mode, [callback])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.chmodSync">fs.chmodSync(path, mode)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.stat">fs.stat(path, [callback])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.lstat">fs.lstat(path, [callback])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.fstat">fs.fstat(fd, [callback])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.statSync">fs.statSync(path)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.lstatSync">fs.lstatSync(path)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.fstatSync">fs.fstatSync(fd)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.link">fs.link(srcpath, dstpath, [callback])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.linkSync">fs.linkSync(dstpath, srcpath)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.symlink">fs.symlink(linkdata, path, [callback])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.symlinkSync">fs.symlinkSync(linkdata, path)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.readlink">fs.readlink(path, [callback])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.readlinkSync">fs.readlinkSync(path)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.realpath">fs.realpath(path, [callback])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.realpathSync">fs.realpathSync(path)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.unlink">fs.unlink(path, [callback])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.unlinkSync">fs.unlinkSync(path)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.rmdir">fs.rmdir(path, [callback])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.rmdirSync">fs.rmdirSync(path)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.mkdir">fs.mkdir(path, mode, [callback])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.mkdirSync">fs.mkdirSync(path, mode)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.readdir">fs.readdir(path, [callback])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.readdirSync">fs.readdirSync(path)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.close">fs.close(fd, [callback])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.closeSync">fs.closeSync(fd)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.open">fs.open(path, flags, mode=0666, [callback])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.openSync">fs.openSync(path, flags, mode=0666)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.write">fs.write(fd, buffer, offset, length, position, [callback])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.writeSync">fs.writeSync(fd, buffer, offset, length, position)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.writeSync">fs.writeSync(fd, str, position, encoding='utf8')</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.read">fs.read(fd, buffer, offset, length, position, [callback])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.readSync">fs.readSync(fd, buffer, offset, length, position)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.readSync">fs.readSync(fd, length, position, encoding)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.readFile">fs.readFile(filename, [encoding], [callback])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.readFileSync">fs.readFileSync(filename, [encoding])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.writeFile">fs.writeFile(filename, data, encoding='utf8', [callback])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.writeFileSync">fs.writeFileSync(filename, data, encoding='utf8')</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.watchFile">fs.watchFile(filename, [options], listener)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.unwatchFile">fs.unwatchFile(filename)</a>
</li>
</ul>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.Stats">fs.Stats</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.ReadStream">fs.ReadStream</a>
<ul>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.createReadStream">fs.createReadStream(path, [options])</a>
</li>
</ul>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.WriteStream">fs.WriteStream</a>
<ul>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#event_open_">Event: 'open'</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#fs.createWriteStream">fs.createWriteStream(path, [options])</a>
</li>
</ul>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#path">Path</a>
<ul>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#path.join">path.join([path1], [path2], [...])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#path.normalizeArray">path.normalizeArray(arr)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#path.normalize">path.normalize(p)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#path.dirname">path.dirname(p)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#path.basename">path.basename(p, [ext])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#path.extname">path.extname(p)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#path.exists">path.exists(p, [callback])</a>
</li>
</ul>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#net">net</a>
<ul>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#net.createServer">net.createServer(connectionListener)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#net.createConnection">net.createConnection(arguments...)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#net.Server">net.Server</a>
<ul>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#server.listen">server.listen(port, [host], [callback])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#server.listen">server.listen(path, [callback])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#server.listenFD">server.listenFD(fd)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#server.close">server.close()</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#server.address">server.address()</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#server.maxConnections">server.maxConnections</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#server.connections">server.connections</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#event_connection_">Event: 'connection'</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#event_close_">Event: 'close'</a>
</li>
</ul>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#net.Stream">net.Stream</a>
<ul>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#stream.connect">stream.connect(port, [host])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#stream.connect">stream.connect(path)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#stream.setEncoding">stream.setEncoding(encoding=null)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#stream.setSecure">stream.setSecure([credentials])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#stream.verifyPeer">stream.verifyPeer()</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#stream.getPeerCertificate">stream.getPeerCertificate()</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#stream.write">stream.write(data, encoding='ascii')</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#stream.end">stream.end([data], [encoding])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#stream.destroy">stream.destroy()</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#stream.pause">stream.pause()</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#stream.resume">stream.resume()</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#stream.setTimeout">stream.setTimeout(timeout)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#stream.setNoDelay">stream.setNoDelay(noDelay=true)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#stream.setKeepAlive">stream.setKeepAlive(enable=false, [initialDelay])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#stream.remoteAddress">stream.remoteAddress</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#stream.readyState">stream.readyState</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#event_connect_">Event: 'connect'</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#event_secure_">Event: 'secure'</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#event_data_">Event: 'data'</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#event_end_">Event: 'end'</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#event_timeout_">Event: 'timeout'</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#event_drain_">Event: 'drain'</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#event_error_">Event: 'error'</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#event_close_">Event: 'close'</a>
</li>
</ul>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#net.isIP">net.isIP</a>
<ul>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#net.isIP">net.isIP(input)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#net.isIPv4">net.isIPv4(input)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#net.isIPv6">net.isIPv6(input)</a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#dNS">DNS</a>
<ul>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#dns.lookup">dns.lookup(domain, family=null, callback)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#dns.resolve">dns.resolve(domain, rrtype='A', callback)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#dns.resolve4">dns.resolve4(domain, callback)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#dns.resolve6">dns.resolve6(domain, callback)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#dns.resolveMx">dns.resolveMx(domain, callback)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#dns.resolveTxt">dns.resolveTxt(domain, callback)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#dns.resolveSrv">dns.resolveSrv(domain, callback)</a>
</li>
<li>
<a href="./documentation_files/documentation.html">dns.reverse(ip, callback)</a>
</li>
</ul>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#dgram">dgram</a>
<ul>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#event_message_">Event: 'message'</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#event_listening_">Event: 'listening'</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#event_close_">Event: 'close'</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#dgram.createSocket">dgram.createSocket(type, [callback])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#dgram.send">dgram.send(buf, offset, length, path, [callback])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#dgram.send">dgram.send(buf, offset, length, port, address, [callback])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#dgram.bind">dgram.bind(path)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#dgram.bind">dgram.bind(port, [address])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#dgram.close">dgram.close()</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#dgram.address">dgram.address()</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#dgram.setBroadcast">dgram.setBroadcast(flag)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#dgram.setTTL">dgram.setTTL(ttl)</a>
</li>
</ul>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#hTTP">HTTP</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#http.Server">http.Server</a>
<ul>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#event_request_">Event: 'request'</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#event_connection_">Event: 'connection'</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#event_close_">Event: 'close'</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#event_request_">Event: 'request'</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#event_checkContinue_">Event: 'checkContinue'</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#event_upgrade_">Event: 'upgrade'</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#event_clientError_">Event: 'clientError'</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#http.createServer">http.createServer(requestListener)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#server.listen">server.listen(port, [hostname], [callback])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#server.listen">server.listen(path, [callback])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#server.setSecure">server.setSecure(credentials)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#server.close">server.close()</a>
</li>
</ul>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#http.ServerRequest">http.ServerRequest</a>
<ul>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#event_data_">Event: 'data'</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#event_end_">Event: 'end'</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#request.method">request.method</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#request.url">request.url</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#request.headers">request.headers</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#request.trailers">request.trailers</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#request.httpVersion">request.httpVersion</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#request.setEncoding">request.setEncoding(encoding=null)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#request.pause">request.pause()</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#request.resume">request.resume()</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#request.connection">request.connection</a>
</li>
</ul>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#http.ServerResponse">http.ServerResponse</a>
<ul>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#response.writeContinue">response.writeContinue()</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#response.writeHead">response.writeHead(statusCode, [reasonPhrase], [headers])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#response.write">response.write(chunk, encoding='utf8')</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#response.addTrailers">response.addTrailers(headers)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#response.end">response.end([data], [encoding])</a>
</li>
</ul>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#http.Client">http.Client</a>
<ul>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#event_upgrade_">Event: 'upgrade'</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#event_continue_">Event: 'continue'</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#http.createClient">http.createClient(port, host='localhost', secure=false, [credentials])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#client.request">client.request(method='GET', path, [request_headers])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#client.verifyPeer">client.verifyPeer()</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#client.getPeerCertificate">client.getPeerCertificate()</a>
</li>
</ul>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#http.ClientRequest">http.ClientRequest</a>
<ul>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#event_response_">Event 'response'</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#request.write">request.write(chunk, encoding='utf8')</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#request.end">request.end([data], [encoding])</a>
</li>
</ul>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#http.ClientResponse">http.ClientResponse</a>
<ul>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#event_data_">Event: 'data'</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#event_end_">Event: 'end'</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#response.statusCode">response.statusCode</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#response.httpVersion">response.httpVersion</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#response.headers">response.headers</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#response.trailers">response.trailers</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#response.setEncoding">response.setEncoding(encoding=null)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#response.pause">response.pause()</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#response.resume">response.resume()</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#response.client">response.client</a>
</li>
</ul>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#uRL">URL</a>
<ul>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#url.parse">url.parse(urlStr, parseQueryString=false)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#url.format">url.format(urlObj)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#url.resolve">url.resolve(from, to)</a>
</li>
</ul>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#query_String">Query String</a>
<ul>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#querystring.stringify">querystring.stringify(obj, sep='&amp;', eq='=')</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#querystring.parse">querystring.parse(str, sep='&amp;', eq='=')</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#querystring.escape">querystring.escape</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#querystring.unescape">querystring.unescape</a>
</li>
</ul>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#rEPL">REPL</a>
<ul>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#repl.start_">repl.start(prompt='node&gt; ', stream=process.openStdin())</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#rEPL_Features">REPL Features</a>
</li>
</ul>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#child_Processes">Child Processes</a>
<ul>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#event_exit_">Event:  'exit'</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#child.stdin">child.stdin</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#child.stdout">child.stdout</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#child.stderr">child.stderr</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#child.pid">child.pid</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#child_process.spawn">child_process.spawn(command, args=[], [options])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#child_process.exec">child_process.exec(command, [options], callback)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#child.kill">child.kill(signal='SIGTERM')</a>
</li>
</ul>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#assert">Assert</a>
<ul>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#assert.fail">assert.fail(actual, expected, message, operator)</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#assert.ok">assert.ok(value, [message])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#assert.equal">assert.equal(actual, expected, [message])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#assert.notEqual">assert.notEqual(actual, expected, [message])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#assert.deepEqual">assert.deepEqual(actual, expected, [message])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#assert.notDeepEqual">assert.notDeepEqual(actual, expected, [message])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#assert.strictEqual">assert.strictEqual(actual, expected, [message])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#assert.notStrictEqual">assert.notStrictEqual(actual, expected, [message])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#assert.throws">assert.throws(block, [error], [message])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#assert.doesNotThrow">assert.doesNotThrow(block, [error], [message])</a>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#assert.ifError">assert.ifError(value)</a>
</li>
</ul>
</li>
<li>
<a href="http://nodejs.org/docs/v0.3.1/api/all.html#appendix_1_Third_Party_Modules">Appendix 1 - Third Party Modules</a>
</li>
</ul>


<hr>
</div>
    <h2 id="synopsis">Synopsis</h2>

<p>An example of a <a href="http://nodejs.org/docs/v0.3.1/api/http.html">web server</a> written with Node which responds with 'Hello
World':</p>

<pre class="sh_sourceCode"><code><span class="sh_keyword">var</span> http <span class="sh_symbol">=</span> <span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">'http'</span><span class="sh_symbol">);</span>

http<span class="sh_symbol">.</span><span class="sh_function">createServer</span><span class="sh_symbol">(</span><span class="sh_keyword">function</span> <span class="sh_symbol">(</span>request<span class="sh_symbol">,</span> response<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
  response<span class="sh_symbol">.</span><span class="sh_function">writeHead</span><span class="sh_symbol">(</span><span class="sh_number">200</span><span class="sh_symbol">,</span> <span class="sh_cbracket">{</span><span class="sh_string">'Content-Type'</span><span class="sh_symbol">:</span> <span class="sh_string">'text/plain'</span><span class="sh_cbracket">}</span><span class="sh_symbol">);</span>
  response<span class="sh_symbol">.</span><span class="sh_function">end</span><span class="sh_symbol">(</span><span class="sh_string">'Hello World</span><span class="sh_specialchar">\n</span><span class="sh_string">'</span><span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">).</span><span class="sh_function">listen</span><span class="sh_symbol">(</span><span class="sh_number">8124</span><span class="sh_symbol">);</span>

console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'Server running at http://127.0.0.1:8124/'</span><span class="sh_symbol">);</span></code></pre>

<p>To run the server, put the code into a file called <code>example.js</code> and execute
it with the node program</p>

<pre class="sh_sourceCode"><code><span class="sh_symbol">&gt;</span> node example<span class="sh_symbol">.</span>js
Server running at http<span class="sh_symbol">:</span><span class="sh_comment">//127.0.0.1:8124/</span></code></pre>

<p>All of the examples in the documentation can be run similarly.</p>

<h2 id="global_Objects">Global Objects</h2>

<p>These object are available in the global scope and can be accessed from anywhere.</p>

<h3 id="global">global</h3>

<p>The global namespace object.</p>

<h3 id="process">process</h3>

<p>The process object. See the <code>'process object'</code> section.</p>

<h3 id="require">require()</h3>

<p>To require modules. See the <code>'Modules'</code> section.</p>

<h3 id="require.resolve">require.resolve()</h3>

<p>Use the internal <code>require()</code> machinery to look up the location of a module,
but rather than loading the module, just return the resolved filename.</p>

<h3 id="require.paths">require.paths</h3>

<p>An array of search paths for <code>require()</code>.  This array can be modified to add
custom paths.</p>

<p>Example: add a new path to the beginning of the search list</p>

<pre class="sh_sourceCode"><code>require<span class="sh_symbol">.</span>paths<span class="sh_symbol">.</span><span class="sh_function">unshift</span><span class="sh_symbol">(</span><span class="sh_string">'/usr/local/node'</span><span class="sh_symbol">);</span></code></pre>

<h3 id="__filename">__filename</h3>

<p>The filename of the script being executed.  This is the absolute path, and not necessarily
the same filename passed in as a command line argument.</p>

<p>Example: running <code>node example.js</code> from <code>/Users/mjr</code></p>

<pre class="sh_sourceCode"><code>console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span>__filename<span class="sh_symbol">);</span>
<span class="sh_comment">// /Users/mjr/example.js</span></code></pre>

<h3 id="__dirname">__dirname</h3>

<p>The dirname of the script being executed.</p>

<p>Example: running <code>node example.js</code> from <code>/Users/mjr</code></p>

<pre class="sh_sourceCode"><code>console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span>__dirname<span class="sh_symbol">);</span>
<span class="sh_comment">// /Users/mjr</span></code></pre>

<h3 id="module">module</h3>

<p>A reference to the current module (of type <code>process.Module</code>). In particular
<code>module.exports</code> is the same as the <code>exports</code> object. See <code>src/process.js</code>
for more information.</p>

<h2 id="timers">Timers</h2>

<h3 id="setTimeout">setTimeout(callback, delay, [arg], [...])</h3>

<p>To schedule execution of <code>callback</code> after <code>delay</code> milliseconds. Returns a
<code>timeoutId</code> for possible use with <code>clearTimeout()</code>. Optionally, you can
also pass arguments to the callback.</p>

<h3 id="clearTimeout">clearTimeout(timeoutId)</h3>

<p>Prevents a timeout from triggering.</p>

<h3 id="setInterval">setInterval(callback, delay, [arg], [...])</h3>

<p>To schedule the repeated execution of <code>callback</code> every <code>delay</code> milliseconds.
Returns a <code>intervalId</code> for possible use with <code>clearInterval()</code>. Optionally,
you can also pass arguments to the callback.</p>

<h3 id="clearInterval">clearInterval(intervalId)</h3>

<p>Stops a interval from triggering.</p>

<h2 id="standard_Modules">Standard Modules</h2>

<p>Node comes with a number of modules that are compiled in to the process,
most of which are documented below.  The most common way to use these modules
is with <code>require('name')</code> and then assigning the return value to a local
variable with the same name as the module.</p>

<p>Example:</p>

<pre class="sh_sourceCode"><code><span class="sh_keyword">var</span> util <span class="sh_symbol">=</span> <span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">'util'</span><span class="sh_symbol">);</span></code></pre>

<p>It is possible to extend node with other modules.  See <code>'Modules'</code></p>

<h2 id="modules">Modules</h2>

<p>Node uses the CommonJS module system.</p>

<p>Node has a simple module loading system.  In Node, files and modules are in
one-to-one correspondence.  As an example, <code>foo.js</code> loads the module
<code>circle.js</code> in the same directory.</p>

<p>The contents of <code>foo.js</code>:</p>

<pre class="sh_sourceCode"><code><span class="sh_keyword">var</span> circle <span class="sh_symbol">=</span> <span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">'./circle'</span><span class="sh_symbol">);</span>
console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span> <span class="sh_string">'The area of a circle of radius 4 is '</span>
           <span class="sh_symbol">+</span> circle<span class="sh_symbol">.</span><span class="sh_function">area</span><span class="sh_symbol">(</span><span class="sh_number">4</span><span class="sh_symbol">));</span></code></pre>

<p>The contents of <code>circle.js</code>:</p>

<pre class="sh_sourceCode"><code><span class="sh_keyword">var</span> PI <span class="sh_symbol">=</span> <span class="sh_number">3.14</span><span class="sh_symbol">;</span>

exports<span class="sh_symbol">.</span>area <span class="sh_symbol">=</span> <span class="sh_keyword">function</span> <span class="sh_symbol">(</span>r<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
  <span class="sh_keyword">return</span> PI <span class="sh_symbol">*</span> r <span class="sh_symbol">*</span> r<span class="sh_symbol">;</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">;</span>

exports<span class="sh_symbol">.</span>circumference <span class="sh_symbol">=</span> <span class="sh_keyword">function</span> <span class="sh_symbol">(</span>r<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
  <span class="sh_keyword">return</span> <span class="sh_number">2</span> <span class="sh_symbol">*</span> PI <span class="sh_symbol">*</span> r<span class="sh_symbol">;</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">;</span></code></pre>

<p>The module <code>circle.js</code> has exported the functions <code>area()</code> and
<code>circumference()</code>.  To export an object, add to the special <code>exports</code>
object.  (Alternatively, one can use <code>this</code> instead of <code>exports</code>.) Variables
local to the module will be private. In this example the variable <code>PI</code> is
private to <code>circle.js</code>. The function <code>puts()</code> comes from the module <code>'util'</code>,
which is a built-in module. Modules which are not prefixed by <code>'./'</code> are
built-in module--more about this later.</p>

<h3 id="module_Resolving">Module Resolving</h3>

<p>A module prefixed with <code>'./'</code> is relative to the file calling <code>require()</code>.
That is, <code>circle.js</code> must be in the same directory as <code>foo.js</code> for
<code>require('./circle')</code> to find it.</p>

<p>Without the leading <code>'./'</code>, like <code>require('assert')</code> the module is searched
for in the <code>require.paths</code> array. <code>require.paths</code> on my system looks like
this: </p>

<p><code>[ '/home/ryan/.node_modules' ]</code></p>

<p>That is, when <code>require('foo')</code> is called Node looks for:</p>

<ul><li>1: <code>/home/ryan/.node_modules/foo</code></li><li>2: <code>/home/ryan/.node_modules/foo.js</code></li><li>3: <code>/home/ryan/.node_modules/foo.node</code></li><li>4: <code>/home/ryan/.node_modules/foo/index.js</code></li><li>5: <code>/home/ryan/.node_modules/foo/index.node</code></li></ul>

<p>interrupting once a file is found. Files ending in <code>'.node'</code> are binary Addon
Modules; see 'Addons' below. <code>'index.js'</code> allows one to package a module as
a directory.</p>

<p><code>require.paths</code> can be modified at runtime by simply unshifting new
paths onto it, or at startup with the <code>NODE_PATH</code> environmental
variable (which should be a list of paths, colon separated).
Additionally node will search for directories called <code>node_modules</code> starting
at the current directory (of the module calling <code>require</code>) and upwards
towards the root of the package tree.
This feature makes it easy to have different module versions for different
environments. Imagine the situation where you have a devopment environment
and a production environment each with a different version of the <code>foo</code>
module: <code>projects/x/development/node_modules/foo</code> and
<code>projects/x/production/node_modules/foo</code>.</p>

<p>The second time <code>require('foo')</code> is called, it is not loaded again from
disk. It looks in the <code>require.cache</code> object to see if it has been loaded
before.</p>

<p>To get the exact filename that will be loaded when <code>require()</code> is called, use
the <code>require.resolve()</code> function.</p>

<h2 id="addons">Addons</h2>

<p>Addons are dynamically linked shared objects. They can provide glue to C and
C++ libraries. The API (at the moment) is rather complex, involving
knowledge of several libraries:</p>

<ul><li><p>V8 JavaScript, a C++ library. Used for interfacing with JavaScript:
creating objects, calling functions, etc.  Documented mostly in the
<code>v8.h</code> header file (<code>deps/v8/include/v8.h</code> in the Node source tree).</p></li><li><p>libev, C event loop library. Anytime one needs to wait for a file
descriptor to become readable, wait for a timer, or wait for a signal to
received one will need to interface with libev.  That is, if you perform
any I/O, libev will need to be used.  Node uses the <code>EV_DEFAULT</code> event
loop.  Documentation can be found http:/cvs.schmorp.de/libev/ev.html[here].</p></li><li><p>libeio, C thread pool library. Used to execute blocking POSIX system
calls asynchronously. Mostly wrappers already exist for such calls, in
<code>src/file.cc</code> so you will probably not need to use it. If you do need it,
look at the header file <code>deps/libeio/eio.h</code>.</p></li><li><p>Internal Node libraries. Most importantly is the <code>node::ObjectWrap</code>
class which you will likely want to derive from.</p></li><li><p>Others. Look in <code>deps/</code> for what else is available.</p></li></ul>

<p>Node statically compiles all its dependencies into the executable. When
compiling your module, you don't need to worry about linking to any of these
libraries.</p>

<p>To get started let's make a small Addon which does the following except in
C++:</p>

<pre class="sh_sourceCode"><code>exports<span class="sh_symbol">.</span>hello <span class="sh_symbol">=</span> <span class="sh_string">'world'</span><span class="sh_symbol">;</span></code></pre>

<p>To get started we create a file <code>hello.cc</code>:</p>

<pre class="sh_sourceCode"><code>#include <span class="sh_symbol">&lt;</span>v8<span class="sh_symbol">.</span>h<span class="sh_symbol">&gt;</span>

using namespace v8<span class="sh_symbol">;</span>

extern <span class="sh_string">"C"</span> void
<span class="sh_function">init</span> <span class="sh_symbol">(</span>Handle<span class="sh_symbol">&lt;</span><span class="sh_predef_func">Object</span><span class="sh_symbol">&gt;</span> target<span class="sh_symbol">)</span> 
<span class="sh_cbracket">{</span>
  HandleScope scope<span class="sh_symbol">;</span>
  target<span class="sh_symbol">-&gt;</span><span class="sh_function">Set</span><span class="sh_symbol">(</span><span class="sh_predef_func">String</span><span class="sh_symbol">::</span><span class="sh_function">New</span><span class="sh_symbol">(</span><span class="sh_string">"hello"</span><span class="sh_symbol">),</span> <span class="sh_predef_func">String</span><span class="sh_symbol">::</span><span class="sh_function">New</span><span class="sh_symbol">(</span><span class="sh_string">"World"</span><span class="sh_symbol">));</span>
<span class="sh_cbracket">}</span></code></pre>

<p>This source code needs to be built into <code>hello.node</code>, the binary Addon. To
do this we create a file called <code>wscript</code> which is python code and looks
like this:</p>

<pre class="sh_sourceCode"><code>srcdir <span class="sh_symbol">=</span> <span class="sh_string">'.'</span>
blddir <span class="sh_symbol">=</span> <span class="sh_string">'build'</span>
VERSION <span class="sh_symbol">=</span> <span class="sh_string">'0.0.1'</span>

def <span class="sh_function">set_options</span><span class="sh_symbol">(</span>opt<span class="sh_symbol">):</span>
  opt<span class="sh_symbol">.</span><span class="sh_function">tool_options</span><span class="sh_symbol">(</span><span class="sh_string">'compiler_cxx'</span><span class="sh_symbol">)</span>

def <span class="sh_function">configure</span><span class="sh_symbol">(</span>conf<span class="sh_symbol">):</span>
  conf<span class="sh_symbol">.</span><span class="sh_function">check_tool</span><span class="sh_symbol">(</span><span class="sh_string">'compiler_cxx'</span><span class="sh_symbol">)</span>
  conf<span class="sh_symbol">.</span><span class="sh_function">check_tool</span><span class="sh_symbol">(</span><span class="sh_string">'node_addon'</span><span class="sh_symbol">)</span>

def <span class="sh_function">build</span><span class="sh_symbol">(</span>bld<span class="sh_symbol">):</span>
  obj <span class="sh_symbol">=</span> bld<span class="sh_symbol">.</span><span class="sh_function">new_task_gen</span><span class="sh_symbol">(</span><span class="sh_string">'cxx'</span><span class="sh_symbol">,</span> <span class="sh_string">'shlib'</span><span class="sh_symbol">,</span> <span class="sh_string">'node_addon'</span><span class="sh_symbol">)</span>
  obj<span class="sh_symbol">.</span>target <span class="sh_symbol">=</span> <span class="sh_string">'hello'</span>
  obj<span class="sh_symbol">.</span>source <span class="sh_symbol">=</span> <span class="sh_string">'hello.cc'</span></code></pre>

<p>Running <code>node-waf configure build</code> will create a file
<code>build/default/hello.node</code> which is our Addon.</p>

<p><code>node-waf</code> is just http://code.google.com/p/waf/[WAF], the python-based build system. <code>node-waf</code> is
provided for the ease of users.</p>

<p>All Node addons must export a function called <code>init</code> with this signature:</p>

<pre class="sh_sourceCode"><code>extern <span class="sh_string">'C'</span> void <span class="sh_function">init</span> <span class="sh_symbol">(</span>Handle<span class="sh_symbol">&lt;</span><span class="sh_predef_func">Object</span><span class="sh_symbol">&gt;</span> target<span class="sh_symbol">)</span></code></pre>

<p>For the moment, that is all the documentation on addons. Please see
<a href="http://github.com/ry/node_postgres">http://github.com/ry/node_postgres</a> for a real example.</p>

<h2 id="process">process</h2>

<p>The <code>process</code> object is a global object and can be accessed from anywhere.
It is an instance of <code>EventEmitter</code>.</p>

<h3 id="event_exit_">Event: 'exit'</h3>

<p><code>function () {}</code></p>

<p>Emitted when the process is about to exit.  This is a good hook to perform
constant time checks of the module's state (like for unit tests).  The main
event loop will no longer be run after the 'exit' callback finishes, so
timers may not be scheduled.</p>

<p>Example of listening for <code>exit</code>:</p>

<pre class="sh_sourceCode"><code>process<span class="sh_symbol">.</span><span class="sh_function">on</span><span class="sh_symbol">(</span><span class="sh_string">'exit'</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">()</span> <span class="sh_cbracket">{</span>
  process<span class="sh_symbol">.</span><span class="sh_function">nextTick</span><span class="sh_symbol">(</span><span class="sh_keyword">function</span> <span class="sh_symbol">()</span> <span class="sh_cbracket">{</span>
   console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'This will not run'</span><span class="sh_symbol">);</span>
  <span class="sh_cbracket">}</span><span class="sh_symbol">);</span>
  console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'About to exit.'</span><span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">);</span></code></pre>

<h3 id="event_uncaughtException_">Event: 'uncaughtException'</h3>

<p><code>function (err) { }</code></p>

<p>Emitted when an exception bubbles all the way back to the event loop. If a
listener is added for this exception, the default action (which is to print
a stack trace and exit) will not occur.</p>

<p>Example of listening for <code>uncaughtException</code>:</p>

<pre class="sh_sourceCode"><code>process<span class="sh_symbol">.</span><span class="sh_function">on</span><span class="sh_symbol">(</span><span class="sh_string">'uncaughtException'</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">(</span>err<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
  console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'Caught exception: '</span> <span class="sh_symbol">+</span> err<span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">);</span>

<span class="sh_function">setTimeout</span><span class="sh_symbol">(</span><span class="sh_keyword">function</span> <span class="sh_symbol">()</span> <span class="sh_cbracket">{</span>
  console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'This will still run.'</span><span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">,</span> <span class="sh_number">500</span><span class="sh_symbol">);</span>

<span class="sh_comment">// Intentionally cause an exception, but don't catch it.</span>
<span class="sh_function">nonexistentFunc</span><span class="sh_symbol">();</span>
console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'This will not run.'</span><span class="sh_symbol">);</span></code></pre>

<p>Note that <code>uncaughtException</code> is a very crude mechanism for exception
handling.  Using try / catch in your program will give you more control over
your program's flow.  Especially for server programs that are designed to
stay running forever, <code>uncaughtException</code> can be a useful safety mechanism.</p>

<h3 id="signal_Events">Signal Events</h3>

<p><code>function () {}</code></p>

<p>Emitted when the processes receives a signal. See sigaction(2) for a list of
standard POSIX signal names such as SIGINT, SIGUSR1, etc.</p>

<p>Example of listening for <code>SIGINT</code>:</p>

<pre class="sh_sourceCode"><code><span class="sh_keyword">var</span> stdin <span class="sh_symbol">=</span> process<span class="sh_symbol">.</span><span class="sh_function">openStdin</span><span class="sh_symbol">();</span>

process<span class="sh_symbol">.</span><span class="sh_function">on</span><span class="sh_symbol">(</span><span class="sh_string">'SIGINT'</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">()</span> <span class="sh_cbracket">{</span>
  console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'Got SIGINT.  Press Control-D to exit.'</span><span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">);</span></code></pre>

<p>An easy way to send the <code>SIGINT</code> signal is with <code>Control-C</code> in most terminal
programs.</p>

<h3 id="process.stdout">process.stdout</h3>

<p>A <code>Writable Stream</code> to <code>stdout</code>.</p>

<p>Example: the definition of <code>console.log</code></p>

<pre class="sh_sourceCode"><code>console<span class="sh_symbol">.</span>log <span class="sh_symbol">=</span> <span class="sh_keyword">function</span> <span class="sh_symbol">(</span>d<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
  process<span class="sh_symbol">.</span>stdout<span class="sh_symbol">.</span><span class="sh_function">write</span><span class="sh_symbol">(</span>d <span class="sh_symbol">+</span> <span class="sh_string">'</span><span class="sh_specialchar">\n</span><span class="sh_string">'</span><span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">;</span></code></pre>

<h3 id="process.openStdin">process.openStdin()</h3>

<p>Opens the standard input stream, returns a <code>Readable Stream</code>.</p>

<p>Example of opening standard input and listening for both events:</p>

<pre class="sh_sourceCode"><code><span class="sh_keyword">var</span> stdin <span class="sh_symbol">=</span> process<span class="sh_symbol">.</span><span class="sh_function">openStdin</span><span class="sh_symbol">();</span>

stdin<span class="sh_symbol">.</span><span class="sh_function">setEncoding</span><span class="sh_symbol">(</span><span class="sh_string">'utf8'</span><span class="sh_symbol">);</span>

stdin<span class="sh_symbol">.</span><span class="sh_function">on</span><span class="sh_symbol">(</span><span class="sh_string">'data'</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">(</span>chunk<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
  process<span class="sh_symbol">.</span>stdout<span class="sh_symbol">.</span><span class="sh_function">write</span><span class="sh_symbol">(</span><span class="sh_string">'data: '</span> <span class="sh_symbol">+</span> chunk<span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">);</span>

stdin<span class="sh_symbol">.</span><span class="sh_function">on</span><span class="sh_symbol">(</span><span class="sh_string">'end'</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">()</span> <span class="sh_cbracket">{</span>
  process<span class="sh_symbol">.</span>stdout<span class="sh_symbol">.</span><span class="sh_function">write</span><span class="sh_symbol">(</span><span class="sh_string">'end'</span><span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">);</span></code></pre>

<h3 id="process.argv">process.argv</h3>

<p>An array containing the command line arguments.  The first element will be
'node', the second element will be the name of the JavaScript file.  The
next elements will be any additional command line arguments.</p>

<pre class="sh_sourceCode"><code><span class="sh_comment">// print process.argv</span>
process<span class="sh_symbol">.</span>argv<span class="sh_symbol">.</span><span class="sh_function">forEach</span><span class="sh_symbol">(</span><span class="sh_keyword">function</span> <span class="sh_symbol">(</span>val<span class="sh_symbol">,</span> index<span class="sh_symbol">,</span> array<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
  console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span>index <span class="sh_symbol">+</span> <span class="sh_string">': '</span> <span class="sh_symbol">+</span> val<span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">);</span></code></pre>

<p>This will generate:</p>

<pre class="sh_sourceCode"><code>$ node process<span class="sh_number">-2</span><span class="sh_symbol">.</span>js one two<span class="sh_symbol">=</span>three four
<span class="sh_number">0</span><span class="sh_symbol">:</span> node
<span class="sh_number">1</span><span class="sh_symbol">:</span> <span class="sh_regexp">/Users/m</span><span class="sh_normal">jr</span><span class="sh_symbol">/</span><span class="sh_normal">work</span><span class="sh_symbol">/</span><span class="sh_normal">node</span><span class="sh_symbol">/</span>process<span class="sh_number">-2</span><span class="sh_symbol">.</span>js
<span class="sh_number">2</span><span class="sh_symbol">:</span> one
<span class="sh_number">3</span><span class="sh_symbol">:</span> two<span class="sh_symbol">=</span>three
<span class="sh_number">4</span><span class="sh_symbol">:</span> four</code></pre>

<h3 id="process.execPath">process.execPath</h3>

<p>This is the absolute pathname of the executable that started the process.</p>

<p>Example:</p>

<pre class="sh_sourceCode"><code><span class="sh_regexp">/usr/</span><span class="sh_normal">local</span><span class="sh_symbol">/</span><span class="sh_normal">bin</span><span class="sh_symbol">/</span>node</code></pre>

<h3 id="process.chdir">process.chdir(directory)</h3>

<p>Changes the current working directory of the process or throws an exception if that fails.</p>

<pre class="sh_sourceCode"><code>console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'Starting directory: '</span> <span class="sh_symbol">+</span> process<span class="sh_symbol">.</span><span class="sh_function">cwd</span><span class="sh_symbol">());</span>
<span class="sh_keyword">try</span> <span class="sh_cbracket">{</span>
  process<span class="sh_symbol">.</span><span class="sh_function">chdir</span><span class="sh_symbol">(</span><span class="sh_string">'/tmp'</span><span class="sh_symbol">);</span>
  console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'New directory: '</span> <span class="sh_symbol">+</span> process<span class="sh_symbol">.</span><span class="sh_function">cwd</span><span class="sh_symbol">());</span>
<span class="sh_cbracket">}</span>
<span class="sh_keyword">catch</span> <span class="sh_symbol">(</span>err<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
  console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'chdir: '</span> <span class="sh_symbol">+</span> err<span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span></code></pre>

<h3 id="process.cwd">process.cwd()</h3>

<p>Returns the current working directory of the process.</p>

<pre class="sh_sourceCode"><code>console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'Current directory: '</span> <span class="sh_symbol">+</span> process<span class="sh_symbol">.</span><span class="sh_function">cwd</span><span class="sh_symbol">());</span></code></pre>

<h3 id="process.env">process.env</h3>

<p>An object containing the user environment. See environ(7).</p>

<h3 id="process.exit">process.exit(code=0)</h3>

<p>Ends the process with the specified <code>code</code>.  If omitted, exit uses the 
'success' code <code>0</code>.</p>

<p>To exit with a 'failure' code:</p>

<pre class="sh_sourceCode"><code>process<span class="sh_symbol">.</span><span class="sh_function">exit</span><span class="sh_symbol">(</span><span class="sh_number">1</span><span class="sh_symbol">);</span></code></pre>

<p>The shell that executed node should see the exit code as 1.</p>

<h3 id="process.getgid">process.getgid()</h3>

<p>Gets the group identity of the process. (See getgid(2).)  This is the numerical group id, not the group name.</p>

<pre class="sh_sourceCode"><code>console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'Current gid: '</span> <span class="sh_symbol">+</span> process<span class="sh_symbol">.</span><span class="sh_function">getgid</span><span class="sh_symbol">());</span></code></pre>

<h3 id="process.setgid">process.setgid(id)</h3>

<p>Sets the group identity of the process. (See setgid(2).)  This accepts either a numerical ID or a groupname string.  If a groupname is specified, this method blocks while resolving it to a numerical ID.</p>

<pre class="sh_sourceCode"><code>console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'Current gid: '</span> <span class="sh_symbol">+</span> process<span class="sh_symbol">.</span><span class="sh_function">getgid</span><span class="sh_symbol">());</span>
<span class="sh_keyword">try</span> <span class="sh_cbracket">{</span>
  process<span class="sh_symbol">.</span><span class="sh_function">setgid</span><span class="sh_symbol">(</span><span class="sh_number">501</span><span class="sh_symbol">);</span>
  console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'New gid: '</span> <span class="sh_symbol">+</span> process<span class="sh_symbol">.</span><span class="sh_function">getgid</span><span class="sh_symbol">());</span>
<span class="sh_cbracket">}</span>
<span class="sh_keyword">catch</span> <span class="sh_symbol">(</span>err<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
  console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'Failed to set gid: '</span> <span class="sh_symbol">+</span> err<span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span></code></pre>

<h3 id="process.getuid">process.getuid()</h3>

<p>Gets the user identity of the process. (See getuid(2).)  This is the numerical userid, not the username.</p>

<pre class="sh_sourceCode"><code>console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'Current uid: '</span> <span class="sh_symbol">+</span> process<span class="sh_symbol">.</span><span class="sh_function">getuid</span><span class="sh_symbol">());</span></code></pre>

<h3 id="process.setuid">process.setuid(id)</h3>

<p>Sets the user identity of the process. (See setuid(2).)  This accepts either a numerical ID or a username string.  If a username is specified, this method blocks while resolving it to a numerical ID.</p>

<pre class="sh_sourceCode"><code>console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'Current uid: '</span> <span class="sh_symbol">+</span> process<span class="sh_symbol">.</span><span class="sh_function">getuid</span><span class="sh_symbol">());</span>
<span class="sh_keyword">try</span> <span class="sh_cbracket">{</span>
  process<span class="sh_symbol">.</span><span class="sh_function">setuid</span><span class="sh_symbol">(</span><span class="sh_number">501</span><span class="sh_symbol">);</span>
  console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'New uid: '</span> <span class="sh_symbol">+</span> process<span class="sh_symbol">.</span><span class="sh_function">getuid</span><span class="sh_symbol">());</span>
<span class="sh_cbracket">}</span>
<span class="sh_keyword">catch</span> <span class="sh_symbol">(</span>err<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
  console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'Failed to set uid: '</span> <span class="sh_symbol">+</span> err<span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span></code></pre>

<h3 id="process.version">process.version</h3>

<p>A compiled-in property that exposes <code>NODE_VERSION</code>.</p>

<pre class="sh_sourceCode"><code>console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'Version: '</span> <span class="sh_symbol">+</span> process<span class="sh_symbol">.</span>version<span class="sh_symbol">);</span></code></pre>

<h3 id="process.installPrefix">process.installPrefix</h3>

<p>A compiled-in property that exposes <code>NODE_PREFIX</code>.</p>

<pre class="sh_sourceCode"><code>console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'Prefix: '</span> <span class="sh_symbol">+</span> process<span class="sh_symbol">.</span>installPrefix<span class="sh_symbol">);</span></code></pre>

<h3 id="process.kill">process.kill(pid, signal='SIGINT')</h3>

<p>Send a signal to a process. <code>pid</code> is the process id and <code>signal</code> is the
string describing the signal to send.  Signal names are strings like
'SIGINT' or 'SIGUSR1'.  If omitted, the signal will be 'SIGINT'.
See kill(2) for more information.</p>

<p>Note that just because the name of this function is <code>process.kill</code>, it is
really just a signal sender, like the <code>kill</code> system call.  The signal sent
may do something other than kill the target process.</p>

<p>Example of sending a signal to yourself:</p>

<pre class="sh_sourceCode"><code>process<span class="sh_symbol">.</span><span class="sh_function">on</span><span class="sh_symbol">(</span><span class="sh_string">'SIGHUP'</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">()</span> <span class="sh_cbracket">{</span>
  console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'Got SIGHUP signal.'</span><span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">);</span>

<span class="sh_function">setTimeout</span><span class="sh_symbol">(</span><span class="sh_keyword">function</span> <span class="sh_symbol">()</span> <span class="sh_cbracket">{</span>
  console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'Exiting.'</span><span class="sh_symbol">);</span>
  process<span class="sh_symbol">.</span><span class="sh_function">exit</span><span class="sh_symbol">(</span><span class="sh_number">0</span><span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">,</span> <span class="sh_number">100</span><span class="sh_symbol">);</span>

process<span class="sh_symbol">.</span><span class="sh_function">kill</span><span class="sh_symbol">(</span>process<span class="sh_symbol">.</span>pid<span class="sh_symbol">,</span> <span class="sh_string">'SIGHUP'</span><span class="sh_symbol">);</span></code></pre>

<h3 id="process.pid">process.pid</h3>

<p>The PID of the process.</p>

<pre class="sh_sourceCode"><code>console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'This process is pid '</span> <span class="sh_symbol">+</span> process<span class="sh_symbol">.</span>pid<span class="sh_symbol">);</span></code></pre>

<h3 id="process.title">process.title</h3>

<p>Getter/setter to set what is displayed in 'ps'.</p>

<h3 id="process.platform">process.platform</h3>

<p>What platform you're running on. <code>'linux2'</code>, <code>'darwin'</code>, etc.</p>

<pre class="sh_sourceCode"><code>console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'This platform is '</span> <span class="sh_symbol">+</span> process<span class="sh_symbol">.</span>platform<span class="sh_symbol">);</span></code></pre>

<h3 id="process.memoryUsage">process.memoryUsage()</h3>

<p>Returns an object describing the memory usage of the Node process.</p>

<pre class="sh_sourceCode"><code><span class="sh_keyword">var</span> util <span class="sh_symbol">=</span> <span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">'util'</span><span class="sh_symbol">);</span>

console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span>util<span class="sh_symbol">.</span><span class="sh_function">inspect</span><span class="sh_symbol">(</span>process<span class="sh_symbol">.</span><span class="sh_function">memoryUsage</span><span class="sh_symbol">()));</span></code></pre>

<p>This will generate:</p>

<pre class="sh_sourceCode"><code><span class="sh_cbracket">{</span> rss<span class="sh_symbol">:</span> <span class="sh_number">4935680</span>
<span class="sh_symbol">,</span> vsize<span class="sh_symbol">:</span> <span class="sh_number">41893888</span>
<span class="sh_symbol">,</span> heapTotal<span class="sh_symbol">:</span> <span class="sh_number">1826816</span>
<span class="sh_symbol">,</span> heapUsed<span class="sh_symbol">:</span> <span class="sh_number">650472</span>
<span class="sh_cbracket">}</span></code></pre>

<p><code>heapTotal</code> and <code>heapUsed</code> refer to V8's memory usage.</p>

<h3 id="process.nextTick">process.nextTick(callback)</h3>

<p>On the next loop around the event loop call this callback.
This is <em>not</em> a simple alias to <code>setTimeout(fn, 0)</code>, it's much more
efficient.</p>

<pre class="sh_sourceCode"><code>process<span class="sh_symbol">.</span><span class="sh_function">nextTick</span><span class="sh_symbol">(</span><span class="sh_keyword">function</span> <span class="sh_symbol">()</span> <span class="sh_cbracket">{</span>
  console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'nextTick callback'</span><span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">);</span></code></pre>

<h3 id="process.umask">process.umask([mask])</h3>

<p>Sets or reads the process's file mode creation mask. Child processes inherit
the mask from the parent process. Returns the old mask if <code>mask</code> argument is
given, otherwise returns the current mask.</p>

<pre class="sh_sourceCode"><code><span class="sh_keyword">var</span> oldmask<span class="sh_symbol">,</span> newmask <span class="sh_symbol">=</span> <span class="sh_number">0644</span><span class="sh_symbol">;</span>

oldmask <span class="sh_symbol">=</span> process<span class="sh_symbol">.</span><span class="sh_function">umask</span><span class="sh_symbol">(</span>newmask<span class="sh_symbol">);</span>
console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'Changed umask from: '</span> <span class="sh_symbol">+</span> oldmask<span class="sh_symbol">.</span><span class="sh_function">toString</span><span class="sh_symbol">(</span><span class="sh_number">8</span><span class="sh_symbol">)</span> <span class="sh_symbol">+</span>
            <span class="sh_string">' to '</span> <span class="sh_symbol">+</span> newmask<span class="sh_symbol">.</span><span class="sh_function">toString</span><span class="sh_symbol">(</span><span class="sh_number">8</span><span class="sh_symbol">));</span></code></pre>

<h2 id="util">util</h2>

<p>These functions are in the module <code>'util'</code>. Use <code>require('util')</code> to access
them.</p>

<h3 id="util.debug">util.debug(string)</h3>

<p>A synchronous output function. Will block the process and
output <code>string</code> immediately to <code>stderr</code>.</p>

<pre class="sh_sourceCode"><code><span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">'util'</span><span class="sh_symbol">).</span><span class="sh_function">debug</span><span class="sh_symbol">(</span><span class="sh_string">'message on stderr'</span><span class="sh_symbol">);</span></code></pre>

<h3 id="util.log">util.log(string)</h3>

<p>Output with timestamp on <code>stdout</code>.</p>

<pre class="sh_sourceCode"><code><span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">'util'</span><span class="sh_symbol">).</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'Timestmaped message.'</span><span class="sh_symbol">);</span></code></pre>

<h3 id="util.inspect">util.inspect(object, showHidden=false, depth=2)</h3>

<p>Return a string representation of <code>object</code>, which is useful for debugging.</p>

<p>If <code>showHidden</code> is <code>true</code>, then the object's non-enumerable properties will be
shown too.</p>

<p>If <code>depth</code> is provided, it tells <code>inspect</code> how many times to recurse while
formatting the object. This is useful for inspecting large complicated objects.</p>

<p>The default is to only recurse twice.  To make it recurse indefinitely, pass
in <code>null</code> for <code>depth</code>.</p>

<p>Example of inspecting all properties of the <code>util</code> object:</p>

<pre class="sh_sourceCode"><code><span class="sh_keyword">var</span> util <span class="sh_symbol">=</span> <span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">'util'</span><span class="sh_symbol">);</span>

console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span>util<span class="sh_symbol">.</span><span class="sh_function">inspect</span><span class="sh_symbol">(</span>util<span class="sh_symbol">,</span> <span class="sh_keyword">true</span><span class="sh_symbol">,</span> <span class="sh_keyword">null</span><span class="sh_symbol">));</span></code></pre>

<h3 id="util.pump">util.pump(readableStream, writeableStream, [callback])</h3>

<p>Experimental</p>

<p>Read the data from <code>readableStream</code> and send it to the <code>writableStream</code>.
When <code>writeableStream.write(data)</code> returns <code>false</code> <code>readableStream</code> will be
paused until the <code>drain</code> event occurs on the <code>writableStream</code>. <code>callback</code> gets
an error as its only argument and is called when <code>writableStream</code> is closed or
when an error occurs.</p>

<h2 id="events">Events</h2>

<p>Many objects in Node emit events: a <code>net.Server</code> emits an event each time
a peer connects to it, a <code>fs.readStream</code> emits an event when the file is 
opened. All objects which emit events are instances of <code>events.EventEmitter</code>.
You can access this module by doing: <code>require("events");</code></p>

<p>Typically, event names are represented by a camel-cased string, however, 
there aren't any strict restrictions on that, as any string will be accepted.</p>

<p>Functions can be then be attached to objects, to be executed when an event
is emitted. These functions are called <em>listeners</em>.</p>

<h3 id="events.EventEmitter">events.EventEmitter</h3>

<p>To access the EventEmitter class, <code>require('events').EventEmitter</code>.</p>

<p>When an <code>EventEmitter</code> instance experiences an error, the typical action is 
to emit an <code>'error'</code> event.  Error events are treated as a special case in node.
If there is no listener for it, then the default action is to print a stack 
trace and exit the program.</p>

<p>All EventEmitters emit the event <code>'newListener'</code> when new listeners are
added.</p>

<h4 id="emitter.addListener">emitter.addListener(event, listener)</h4>

<h4 id="emitter.on">emitter.on(event, listener)</h4>

<p>Adds a listener to the end of the listeners array for the specified event.</p>

<pre class="sh_sourceCode"><code>server<span class="sh_symbol">.</span><span class="sh_function">on</span><span class="sh_symbol">(</span><span class="sh_string">'connection'</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">(</span>stream<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
	console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'someone connected!'</span><span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">);</span></code></pre>

<h4 id="emitter.once">emitter.once(event, listener)</h4>

<p>Adds a <strong>one time</strong> listener for the event. The listener is
invoked only the first time the event is fired, after which
it is removed.</p>

<pre class="sh_sourceCode"><code>server<span class="sh_symbol">.</span><span class="sh_function">once</span><span class="sh_symbol">(</span><span class="sh_string">'connection'</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">(</span>stream<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
	console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'Ah, we have our first user!'</span><span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">);</span></code></pre>

<h4 id="emitter.removeListener">emitter.removeListener(event, listener)</h4>

<p>Remove a listener from the listener array for the specified event.
<strong>Caution</strong>: changes array indices in the listener array behind the listener.</p>

<pre class="sh_sourceCode"><code><span class="sh_keyword">var</span> callback <span class="sh_symbol">=</span> <span class="sh_keyword">function</span><span class="sh_symbol">(</span>stream<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
	console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'someone connected!'</span><span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">;</span>
server<span class="sh_symbol">.</span><span class="sh_function">on</span><span class="sh_symbol">(</span><span class="sh_string">'connection'</span><span class="sh_symbol">,</span> callback<span class="sh_symbol">);</span>
<span class="sh_comment">// ...</span>
server<span class="sh_symbol">.</span><span class="sh_function">removeListener</span><span class="sh_symbol">(</span><span class="sh_string">'connection'</span><span class="sh_symbol">,</span> callback<span class="sh_symbol">);</span></code></pre>

<h4 id="emitter.removeAllListeners">emitter.removeAllListeners(event)</h4>

<p>Removes all listeners from the listener array for the specified event.</p>

<h4 id="emitter.listeners">emitter.listeners(event)</h4>

<p>Returns an array of listeners for the specified event. This array can be
manipulated, e.g. to remove listeners.</p>

<pre class="sh_sourceCode"><code>server<span class="sh_symbol">.</span><span class="sh_function">on</span><span class="sh_symbol">(</span><span class="sh_string">'connection'</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">(</span>stream<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
	console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'someone connected!'</span><span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">);</span>
console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span>util<span class="sh_symbol">.</span><span class="sh_function">inspect</span><span class="sh_symbol">(</span>server<span class="sh_symbol">.</span><span class="sh_function">listeners</span><span class="sh_symbol">(</span><span class="sh_string">'connection'</span><span class="sh_symbol">));</span> <span class="sh_comment">// [ [Function] ]</span></code></pre>

<h4 id="emitter.emit">emitter.emit(event, [arg1], [arg2], [...])</h4>

<p>Execute each of the listeners in order with the supplied arguments.</p>

<h4 id="event_newListener_">Event: 'newListener'</h4>

<p><code>function (event, listener) { }</code></p>

<p>This event is emitted any time someone adds a new listener.</p>

<h2 id="buffers">Buffers</h2>

<p>Pure Javascript is Unicode friendly but not nice to binary data.  When
dealing with TCP streams or the file system, it's necessary to handle octet
streams. Node has several strategies for manipulating, creating, and
consuming octet streams.</p>

<p>Raw data is stored in instances of the <code>Buffer</code> class. A <code>Buffer</code> is similar
to an array of integers but corresponds to a raw memory allocation outside
the V8 heap. A <code>Buffer</code> cannot be resized.</p>

<p>The <code>Buffer</code> object is global.</p>

<p>Converting between Buffers and JavaScript string objects requires an explicit encoding
method.  Here are the different string encodings;</p>

<ul><li><p><code>'ascii'</code> - for 7 bit ASCII data only.  This encoding method is very fast, and will
strip the high bit if set.</p></li><li><p><code>'utf8'</code> - Unicode characters.  Many web pages and other document formats use UTF-8.</p></li><li><p><code>'base64'</code> - Base64 string encoding.</p></li><li><p><code>'binary'</code> - A way of encoding raw binary data into strings by using only
the first 8 bits of each character. This encoding method is depreciated and
should be avoided in favor of <code>Buffer</code> objects where possible. This encoding
will be removed in future versions of Node.</p></li></ul>

<h3 id="new_Buffer">new Buffer(size)</h3>

<p>Allocates a new buffer of <code>size</code> octets.</p>

<h3 id="new_Buffer">new Buffer(array)</h3>

<p>Allocates a new buffer using an <code>array</code> of octets.</p>

<h3 id="new_Buffer">new Buffer(str, encoding='utf8')</h3>

<p>Allocates a new buffer containing the given <code>str</code>.</p>

<h3 id="buffer.write">buffer.write(string, offset=0, encoding='utf8')</h3>

<p>Writes <code>string</code> to the buffer at <code>offset</code> using the given encoding. Returns
number of octets written.  If <code>buffer</code> did not contain enough space to fit
the entire string it will write a partial amount of the string. In the case
of <code>'utf8'</code> encoding, the method will not write partial characters.</p>

<p>Example: write a utf8 string into a buffer, then print it</p>

<pre class="sh_sourceCode"><code>buf <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_function">Buffer</span><span class="sh_symbol">(</span><span class="sh_number">256</span><span class="sh_symbol">);</span>
len <span class="sh_symbol">=</span> buf<span class="sh_symbol">.</span><span class="sh_function">write</span><span class="sh_symbol">(</span><span class="sh_string">'</span><span class="sh_specialchar">\u</span><span class="sh_string">00bd + </span><span class="sh_specialchar">\u</span><span class="sh_string">00bc = </span><span class="sh_specialchar">\u</span><span class="sh_string">00be'</span><span class="sh_symbol">,</span> <span class="sh_number">0</span><span class="sh_symbol">);</span>
console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span>len <span class="sh_symbol">+</span> <span class="sh_string">" bytes: "</span> <span class="sh_symbol">+</span> buf<span class="sh_symbol">.</span><span class="sh_function">toString</span><span class="sh_symbol">(</span><span class="sh_string">'utf8'</span><span class="sh_symbol">,</span> <span class="sh_number">0</span><span class="sh_symbol">,</span> len<span class="sh_symbol">));</span>

<span class="sh_comment">// 12 bytes:  +  = </span></code></pre>

<h3 id="buffer.toString">buffer.toString(encoding, start=0, end=buffer.length)</h3>

<p>Decodes and returns a string from buffer data encoded with <code>encoding</code>
beginning at <code>start</code> and ending at <code>end</code>.</p>

<p>See <code>buffer.write()</code> example, above.</p>

<h3 id="buffer_index_">buffer[index]</h3>

<p>Get and set the octet at <code>index</code>. The values refer to individual bytes,
so the legal range is between <code>0x00</code> and <code>0xFF</code> hex or <code>0</code> and <code>255</code>.</p>

<p>Example: copy an ASCII string into a buffer, one byte at a time:</p>

<pre class="sh_sourceCode"><code>str <span class="sh_symbol">=</span> <span class="sh_string">"node.js"</span><span class="sh_symbol">;</span>
buf <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_function">Buffer</span><span class="sh_symbol">(</span>str<span class="sh_symbol">.</span>length<span class="sh_symbol">);</span>

<span class="sh_keyword">for</span> <span class="sh_symbol">(</span><span class="sh_keyword">var</span> i <span class="sh_symbol">=</span> <span class="sh_number">0</span><span class="sh_symbol">;</span> i <span class="sh_symbol">&lt;</span> str<span class="sh_symbol">.</span>length <span class="sh_symbol">;</span> i<span class="sh_symbol">++)</span> <span class="sh_cbracket">{</span>
  buf<span class="sh_symbol">[</span>i<span class="sh_symbol">]</span> <span class="sh_symbol">=</span> str<span class="sh_symbol">.</span><span class="sh_function">charCodeAt</span><span class="sh_symbol">(</span>i<span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span>

console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span>buf<span class="sh_symbol">);</span>

<span class="sh_comment">// node.js</span></code></pre>

<h3 id="buffer.byteLength">Buffer.byteLength(string, encoding='utf8')</h3>

<p>Gives the actual byte length of a string.  This is not the same as 
<code>String.prototype.length</code> since that returns the number of <em>characters</em> in a
string.</p>

<p>Example:</p>

<pre class="sh_sourceCode"><code>str <span class="sh_symbol">=</span> <span class="sh_string">'</span><span class="sh_specialchar">\u</span><span class="sh_string">00bd + </span><span class="sh_specialchar">\u</span><span class="sh_string">00bc = </span><span class="sh_specialchar">\u</span><span class="sh_string">00be'</span><span class="sh_symbol">;</span>

console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span>str <span class="sh_symbol">+</span> <span class="sh_string">": "</span> <span class="sh_symbol">+</span> str<span class="sh_symbol">.</span>length <span class="sh_symbol">+</span> <span class="sh_string">" characters, "</span> <span class="sh_symbol">+</span>
  Buffer<span class="sh_symbol">.</span><span class="sh_function">byteLength</span><span class="sh_symbol">(</span>str<span class="sh_symbol">,</span> <span class="sh_string">'utf8'</span><span class="sh_symbol">)</span> <span class="sh_symbol">+</span> <span class="sh_string">" bytes"</span><span class="sh_symbol">);</span>

<span class="sh_comment">//  +  = : 9 characters, 12 bytes</span></code></pre>

<h3 id="buffer.length">buffer.length</h3>

<p>The size of the buffer in bytes.  Note that this is not necessarily the size
of the contents. <code>length</code> refers to the amount of memory allocated for the 
buffer object.  It does not change when the contents of the buffer are changed.</p>

<pre class="sh_sourceCode"><code>buf <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_function">Buffer</span><span class="sh_symbol">(</span><span class="sh_number">1234</span><span class="sh_symbol">);</span>

console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span>buf<span class="sh_symbol">.</span>length<span class="sh_symbol">);</span>
buf<span class="sh_symbol">.</span><span class="sh_function">write</span><span class="sh_symbol">(</span><span class="sh_string">"some string"</span><span class="sh_symbol">,</span> <span class="sh_string">"ascii"</span><span class="sh_symbol">,</span> <span class="sh_number">0</span><span class="sh_symbol">);</span>
console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span>buf<span class="sh_symbol">.</span>length<span class="sh_symbol">);</span>

<span class="sh_comment">// 1234</span>
<span class="sh_comment">// 1234</span></code></pre>

<h3 id="buffer.copy">buffer.copy(targetBuffer, targetStart, sourceStart, sourceEnd=buffer.length)</h3>

<p>Does a memcpy() between buffers.</p>

<p>Example: build two Buffers, then copy <code>buf1</code> from byte 16 through byte 19
into <code>buf2</code>, starting at the 8th byte in <code>buf2</code>.</p>

<pre class="sh_sourceCode"><code>buf1 <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_function">Buffer</span><span class="sh_symbol">(</span><span class="sh_number">26</span><span class="sh_symbol">);</span>
buf2 <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_function">Buffer</span><span class="sh_symbol">(</span><span class="sh_number">26</span><span class="sh_symbol">);</span>

<span class="sh_keyword">for</span> <span class="sh_symbol">(</span><span class="sh_keyword">var</span> i <span class="sh_symbol">=</span> <span class="sh_number">0</span> <span class="sh_symbol">;</span> i <span class="sh_symbol">&lt;</span> <span class="sh_number">26</span> <span class="sh_symbol">;</span> i<span class="sh_symbol">++)</span> <span class="sh_cbracket">{</span>
  buf1<span class="sh_symbol">[</span>i<span class="sh_symbol">]</span> <span class="sh_symbol">=</span> i <span class="sh_symbol">+</span> <span class="sh_number">97</span><span class="sh_symbol">;</span> <span class="sh_comment">// 97 is ASCII a</span>
  buf2<span class="sh_symbol">[</span>i<span class="sh_symbol">]</span> <span class="sh_symbol">=</span> <span class="sh_number">33</span><span class="sh_symbol">;</span> <span class="sh_comment">// ASCII !</span>
<span class="sh_cbracket">}</span>

buf1<span class="sh_symbol">.</span><span class="sh_function">copy</span><span class="sh_symbol">(</span>buf2<span class="sh_symbol">,</span> <span class="sh_number">8</span><span class="sh_symbol">,</span> <span class="sh_number">16</span><span class="sh_symbol">,</span> <span class="sh_number">20</span><span class="sh_symbol">);</span>
console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span>buf2<span class="sh_symbol">.</span><span class="sh_function">toString</span><span class="sh_symbol">(</span><span class="sh_string">'ascii'</span><span class="sh_symbol">,</span> <span class="sh_number">0</span><span class="sh_symbol">,</span> <span class="sh_number">25</span><span class="sh_symbol">));</span>

<span class="sh_comment">// !!!!!!!!qrst!!!!!!!!!!!!!</span></code></pre>

<h3 id="buffer.slice">buffer.slice(start, end=buffer.length)</h3>

<p>Returns a new buffer which references the
same memory as the old, but offset and cropped by the <code>start</code> and <code>end</code>
indexes.</p>

<p><strong>Modifying the new buffer slice will modify memory in the original buffer!</strong></p>

<p>Example: build a Buffer with the ASCII alphabet, take a slice, then modify one byte
from the original Buffer.</p>

<pre class="sh_sourceCode"><code><span class="sh_keyword">var</span> buf1 <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_function">Buffer</span><span class="sh_symbol">(</span><span class="sh_number">26</span><span class="sh_symbol">);</span>

<span class="sh_keyword">for</span> <span class="sh_symbol">(</span><span class="sh_keyword">var</span> i <span class="sh_symbol">=</span> <span class="sh_number">0</span> <span class="sh_symbol">;</span> i <span class="sh_symbol">&lt;</span> <span class="sh_number">26</span> <span class="sh_symbol">;</span> i<span class="sh_symbol">++)</span> <span class="sh_cbracket">{</span>
  buf1<span class="sh_symbol">[</span>i<span class="sh_symbol">]</span> <span class="sh_symbol">=</span> i <span class="sh_symbol">+</span> <span class="sh_number">97</span><span class="sh_symbol">;</span> <span class="sh_comment">// 97 is ASCII a</span>
<span class="sh_cbracket">}</span>

<span class="sh_keyword">var</span> buf2 <span class="sh_symbol">=</span> buf1<span class="sh_symbol">.</span><span class="sh_function">slice</span><span class="sh_symbol">(</span><span class="sh_number">0</span><span class="sh_symbol">,</span> <span class="sh_number">3</span><span class="sh_symbol">);</span>
console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span>buf2<span class="sh_symbol">.</span><span class="sh_function">toString</span><span class="sh_symbol">(</span><span class="sh_string">'ascii'</span><span class="sh_symbol">,</span> <span class="sh_number">0</span><span class="sh_symbol">,</span> buf2<span class="sh_symbol">.</span>length<span class="sh_symbol">));</span>
buf1<span class="sh_symbol">[</span><span class="sh_number">0</span><span class="sh_symbol">]</span> <span class="sh_symbol">=</span> <span class="sh_number">33</span><span class="sh_symbol">;</span>
console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span>buf2<span class="sh_symbol">.</span><span class="sh_function">toString</span><span class="sh_symbol">(</span><span class="sh_string">'ascii'</span><span class="sh_symbol">,</span> <span class="sh_number">0</span><span class="sh_symbol">,</span> buf2<span class="sh_symbol">.</span>length<span class="sh_symbol">));</span>

<span class="sh_comment">// abc</span>
<span class="sh_comment">// !bc</span></code></pre>

<h2 id="streams">Streams</h2>

<p>A stream is an abstract interface implemented by various objects in Node.
For example a request to an HTTP server is a stream, as is stdout. Streams
are readable, writable, or both. All streams are instances of <code>EventEmitter</code>.</p>

<h2 id="readable_Stream">Readable Stream</h2>

<p>A <code>Readable Stream</code> has the following methods, members, and events.</p>

<h3 id="event_data_">Event: 'data'</h3>

<p><code>function (data) { }</code></p>

<p>The <code>'data'</code> event emits either a <code>Buffer</code> (by default) or a string if
<code>setEncoding()</code> was used.</p>

<h3 id="event_end_">Event: 'end'</h3>

<p><code>function () { }</code></p>

<p>Emitted when the stream has received an EOF (FIN in TCP terminology).
Indicates that no more <code>'data'</code> events will happen. If the stream is also
writable, it may be possible to continue writing.</p>

<h3 id="event_error_">Event: 'error'</h3>

<p><code>function (exception) { }</code></p>

<p>Emitted if there was an error receiving data.</p>

<h3 id="event_close_">Event: 'close'</h3>

<p><code>function () { }</code></p>

<p>Emitted when the underlying file descriptor has be closed. Not all streams
will emit this.  (For example, an incoming HTTP request will not emit
<code>'close'</code>.)</p>

<h3 id="event_fd_">Event: 'fd'</h3>

<p><code>function (fd) { }</code></p>

<p>Emitted when a file descriptor is received on the stream. Only UNIX streams
support this functionality; all others will simply never emit this event.</p>

<h3 id="stream.readable">stream.readable</h3>

<p>A boolean that is <code>true</code> by default, but turns <code>false</code> after an <code>'error'</code>
occured, the stream came to an <code>'end'</code>, or <code>destroy()</code> was called.</p>

<h3 id="stream.setEncoding">stream.setEncoding(encoding)</h3>

<p>Makes the data event emit a string instead of a <code>Buffer</code>. <code>encoding</code> can be
<code>'utf8'</code>, <code>'ascii'</code>, or <code>'base64'</code>.</p>

<h3 id="stream.pause">stream.pause()</h3>

<p>Pauses the incoming <code>'data'</code> events.</p>

<h3 id="stream.resume">stream.resume()</h3>

<p>Resumes the incoming <code>'data'</code> events after a <code>pause()</code>.</p>

<h3 id="stream.destroy">stream.destroy()</h3>

<p>Closes the underlying file descriptor. Stream will not emit any more events.</p>

<h2 id="writable_Stream">Writable Stream</h2>

<p>A <code>Writable Stream</code> has the following methods, members, and events.</p>

<h3 id="event_drain_">Event: 'drain'</h3>

<p><code>function () { }</code></p>

<p>Emitted after a <code>write()</code> method was called that returned <code>false</code> to
indicate that it is safe to write again.</p>

<h3 id="event_error_">Event: 'error'</h3>

<p><code>function (exception) { }</code></p>

<p>Emitted on error with the exception <code>exception</code>.</p>

<h3 id="event_close_">Event: 'close'</h3>

<p><code>function () { }</code></p>

<p>Emitted when the underlying file descriptor has been closed.</p>

<h3 id="stream.writeable">stream.writeable</h3>

<p>A boolean that is <code>true</code> by default, but turns <code>false</code> after an <code>'error'</code>
occurred or <code>end()</code> / <code>destroy()</code> was called.</p>

<h3 id="stream.write">stream.write(string, encoding='utf8', [fd])</h3>

<p>Writes <code>string</code> with the given <code>encoding</code> to the stream.  Returns <code>true</code> if
the string has been flushed to the kernel buffer.  Returns <code>false</code> to
indicate that the kernel buffer is full, and the data will be sent out in
the future. The <code>'drain'</code> event will indicate when the kernel buffer is
empty again. The <code>encoding</code> defaults to <code>'utf8'</code>.</p>

<p>If the optional <code>fd</code> parameter is specified, it is interpreted as an integral
file descriptor to be sent over the stream. This is only supported for UNIX
streams, and is silently ignored otherwise. When writing a file descriptor in
this manner, closing the descriptor before the stream drains risks sending an
invalid (closed) FD.</p>

<h3 id="stream.write">stream.write(buffer)</h3>

<p>Same as the above except with a raw buffer.</p>

<h3 id="stream.end">stream.end()</h3>

<p>Terminates the stream with EOF or FIN.</p>

<h3 id="stream.end">stream.end(string, encoding)</h3>

<p>Sends <code>string</code> with the given <code>encoding</code> and terminates the stream with EOF
or FIN. This is useful to reduce the number of packets sent.</p>

<h3 id="stream.end">stream.end(buffer)</h3>

<p>Same as above but with a <code>buffer</code>.</p>

<h3 id="stream.destroy">stream.destroy()</h3>

<p>Closes the underlying file descriptor. Stream will not emit any more events.</p>

<h2 id="crypto">Crypto</h2>

<p>Use <code>require('crypto')</code> to access this module.</p>

<p>The crypto module requires OpenSSL to be available on the underlying platform. It offers a way of encapsulating secure credentials to be used as part of a secure HTTPS net or http connection.</p>

<p>It also offers a set of wrappers for OpenSSL's hash, hmac, cipher, decipher, sign and verify methods.</p>

<h3 id="crypto.createCredentials">crypto.createCredentials(details)</h3>

<p>Creates a credentials object, with the optional details being a dictionary with keys:</p>

<ul><li><code>key</code> : a string holding the PEM encoded private key</li><li><code>cert</code> : a string holding the PEM encoded certificate</li><li><code>ca</code> : either a string or list of strings of PEM encoded CA certificates to trust.</li></ul>

<p>If no 'ca' details are given, then node.js will use the default publicly trusted list of CAs as given in 
http://mxr.mozilla.org/mozilla/source/security/nss/lib/ckfw/builtins/certdata.txt</p>

<h3 id="crypto.createHash">crypto.createHash(algorithm)</h3>

<p>Creates and returns a hash object, a cryptographic hash with the given algorithm which can be used to generate hash digests.</p>

<p><code>algorithm</code> is dependent on the available algorithms supported by the version of OpenSSL on the platform. Examples are sha1, md5, sha256, sha512, etc. On recent releases, <code>openssl list-message-digest-algorithms</code> will display the available digest algorithms.</p>

<h3 id="hash.update">hash.update(data)</h3>

<p>Updates the hash content with the given <code>data</code>. This can be called many times with new data as it is streamed.</p>

<h3 id="hash.digest">hash.digest(encoding='binary')</h3>

<p>Calculates the digest of all of the passed data to be hashed. The <code>encoding</code> can be 'hex', 'binary' or 'base64'.</p>

<h3 id="crypto.createHmac">crypto.createHmac(algorithm, key)</h3>

<p>Creates and returns a hmac object, a cryptographic hmac with the given algorithm and key.</p>

<p><code>algorithm</code> is dependent on the available algorithms supported by OpenSSL - see createHash above.
<code>key</code> is the hmac key to be used.</p>

<h3 id="hmac.update">hmac.update(data)</h3>

<p>Update the hmac content with the given <code>data</code>. This can be called many times with new data as it is streamed.</p>

<h3 id="hmac.digest">hmac.digest(encoding='binary')</h3>

<p>Calculates the digest of all of the passed data to the hmac. The <code>encoding</code> can be 'hex', 'binary' or 'base64'.</p>

<h3 id="crypto.createCipher">crypto.createCipher(algorithm, key)</h3>

<p>Creates and returns a cipher object, with the given algorithm and key.</p>

<p><code>algorithm</code> is dependent on OpenSSL, examples are aes192, etc. On recent releases, <code>openssl list-cipher-algorithms</code> will display the available cipher algorithms.</p>

<h3 id="cipher.update">cipher.update(data, input_encoding='binary', output_encoding='binary')</h3>

<p>Updates the cipher with <code>data</code>, the encoding of which is given in <code>input_encoding</code> and can be 'utf8', 'ascii' or 'binary'. The <code>output_encoding</code> specifies the output format of the enciphered data, and can be 'binary', 'base64'  or 'hex'.</p>

<p>Returns the enciphered contents, and can be called many times with new data as it is streamed.</p>

<h3 id="cipher.final">cipher.final(output_encoding='binary')</h3>

<p>Returns any remaining enciphered contents, with <code>output_encoding</code> being one of: 'binary', 'ascii' or 'utf8'.</p>

<h3 id="crypto.createDecipher">crypto.createDecipher(algorithm, key)</h3>

<p>Creates and returns a decipher object, with the given algorithm and key. This is the mirror of the cipher object above.</p>

<h3 id="decipher.update">decipher.update(data, input_encoding='binary', output_encoding='binary')</h3>

<p>Updates the decipher with <code>data</code>, which is encoded in 'binary', 'base64' or 'hex'. The <code>output_decoding</code> specifies in what format to return the deciphered plaintext - either 'binary', 'ascii' or 'utf8'.</p>

<h3 id="decipher.final">decipher.final(output_encoding='binary')</h3>

<p>Returns any remaining plaintext which is deciphered, with `output_encoding' being one of: 'binary', 'ascii' or 'utf8'.</p>

<h3 id="crypto.createSign">crypto.createSign(algorithm)</h3>

<p>Creates and returns a signing object, with the given algorithm. On recent OpenSSL releases, <code>openssl list-public-key-algorithms</code> will display the available signing algorithms. Examples are 'RSA-SHA256'.</p>

<h3 id="signer.update">signer.update(data)</h3>

<p>Updates the signer object with data. This can be called many times with new data as it is streamed.</p>

<h3 id="signer.sign">signer.sign(private_key, output_format='binary')</h3>

<p>Calculates the signature on all the updated data passed through the signer. <code>private_key</code> is a string containing the PEM encoded private key for signing.</p>

<p>Returns the signature in <code>output_format</code> which can be 'binary', 'hex' or 'base64'</p>

<h3 id="crypto.createVerify">crypto.createVerify(algorithm)</h3>

<p>Creates and returns a verification object, with the given algorithm. This is the mirror of the signing object above.</p>

<h3 id="verifier.update">verifier.update(data)</h3>

<p>Updates the verifyer object with data. This can be called many times with new data as it is streamed.</p>

<h3 id="verifier.verify">verifier.verify(public_key, signature, signature_format='binary')</h3>

<p>Verifies the signed data by using the <code>public_key</code> which is a string containing the PEM encoded public key, and <code>signature</code>, which is the previously calculates signature for the data, in the <code>signature_format</code> which can be 'binary', 'hex' or 'base64'.</p>

<p>Returns true or false depending on the validity of the signature for the data and public key.</p>

<h2 id="file_System">File System</h2>

<p>File I/O is provided by simple wrappers around standard POSIX functions.  To
use this module do <code>require('fs')</code>. All the methods have asynchronous and
synchronous forms. </p>

<p>The asynchronous form always take a completion callback as its last argument.
The arguments passed to the completion callback depend on the method, but the
first argument is always reserved for an exception. If the operation was
completed successfully, then the first argument will be <code>null</code> or <code>undefined</code>.</p>

<p>Here is an example of the asynchronous version:</p>

<pre class="sh_sourceCode"><code><span class="sh_keyword">var</span> fs <span class="sh_symbol">=</span> <span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">'fs'</span><span class="sh_symbol">);</span>

fs<span class="sh_symbol">.</span><span class="sh_function">unlink</span><span class="sh_symbol">(</span><span class="sh_string">'/tmp/hello'</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">(</span>err<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
  <span class="sh_keyword">if</span> <span class="sh_symbol">(</span>err<span class="sh_symbol">)</span> <span class="sh_keyword">throw</span> err<span class="sh_symbol">;</span>
  console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'successfully deleted /tmp/hello'</span><span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">);</span></code></pre>

<p>Here is the synchronous version:</p>

<pre class="sh_sourceCode"><code><span class="sh_keyword">var</span> fs <span class="sh_symbol">=</span> <span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">'fs'</span><span class="sh_symbol">);</span>

fs<span class="sh_symbol">.</span><span class="sh_function">unlinkSync</span><span class="sh_symbol">(</span><span class="sh_string">'/tmp/hello'</span><span class="sh_symbol">)</span>
console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'successfully deleted /tmp/hello'</span><span class="sh_symbol">);</span></code></pre>

<p>With the asynchronous methods there is no guaranteed ordering. So the
following is prone to error:</p>

<pre class="sh_sourceCode"><code>fs<span class="sh_symbol">.</span><span class="sh_function">rename</span><span class="sh_symbol">(</span><span class="sh_string">'/tmp/hello'</span><span class="sh_symbol">,</span> <span class="sh_string">'/tmp/world'</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">(</span>err<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
  <span class="sh_keyword">if</span> <span class="sh_symbol">(</span>err<span class="sh_symbol">)</span> <span class="sh_keyword">throw</span> err<span class="sh_symbol">;</span>
  console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'renamed complete'</span><span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">);</span>
fs<span class="sh_symbol">.</span><span class="sh_function">stat</span><span class="sh_symbol">(</span><span class="sh_string">'/tmp/world'</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">(</span>err<span class="sh_symbol">,</span> stats<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
  <span class="sh_keyword">if</span> <span class="sh_symbol">(</span>err<span class="sh_symbol">)</span> <span class="sh_keyword">throw</span> err<span class="sh_symbol">;</span>
  console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'stats: '</span> <span class="sh_symbol">+</span> JSON<span class="sh_symbol">.</span><span class="sh_function">stringify</span><span class="sh_symbol">(</span>stats<span class="sh_symbol">));</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">);</span></code></pre>

<p>It could be that <code>fs.stat</code> is executed before <code>fs.rename</code>.
The correct way to do this is to chain the callbacks.</p>

<pre class="sh_sourceCode"><code>fs<span class="sh_symbol">.</span><span class="sh_function">rename</span><span class="sh_symbol">(</span><span class="sh_string">'/tmp/hello'</span><span class="sh_symbol">,</span> <span class="sh_string">'/tmp/world'</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">(</span>err<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
  <span class="sh_keyword">if</span> <span class="sh_symbol">(</span>err<span class="sh_symbol">)</span> <span class="sh_keyword">throw</span> err<span class="sh_symbol">;</span>
  fs<span class="sh_symbol">.</span><span class="sh_function">stat</span><span class="sh_symbol">(</span><span class="sh_string">'/tmp/world'</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">(</span>err<span class="sh_symbol">,</span> stats<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
    <span class="sh_keyword">if</span> <span class="sh_symbol">(</span>err<span class="sh_symbol">)</span> <span class="sh_keyword">throw</span> err<span class="sh_symbol">;</span>
    console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'stats: '</span> <span class="sh_symbol">+</span> JSON<span class="sh_symbol">.</span><span class="sh_function">stringify</span><span class="sh_symbol">(</span>stats<span class="sh_symbol">));</span>
  <span class="sh_cbracket">}</span><span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">);</span></code></pre>

<p>In busy processes, the programmer is <em>strongly encouraged</em> to use the
asynchronous versions of these calls. The synchronous versions will block
the entire process until they complete--halting all connections.</p>

<h3 id="fs.rename">fs.rename(path1, path2, [callback])</h3>

<p>Asynchronous rename(2). No arguments other than a possible exception are given to the completion callback.</p>

<h3 id="fs.renameSync">fs.renameSync(path1, path2)</h3>

<p>Synchronous rename(2).</p>

<h3 id="fs.truncate">fs.truncate(fd, len, [callback])</h3>

<p>Asynchronous ftruncate(2). No arguments other than a possible exception are given to the completion callback.</p>

<h3 id="fs.truncateSync">fs.truncateSync(fd, len)</h3>

<p>Synchronous ftruncate(2).</p>

<h3 id="fs.chmod">fs.chmod(path, mode, [callback])</h3>

<p>Asynchronous chmod(2). No arguments other than a possible exception are given to the completion callback.</p>

<h3 id="fs.chmodSync">fs.chmodSync(path, mode)</h3>

<p>Synchronous chmod(2).</p>

<h3 id="fs.stat">fs.stat(path, [callback])</h3>

<p>Asynchronous stat(2). The callback gets two arguments <code>(err, stats)</code> where <code>stats</code> is a <code>fs.Stats</code> object. It looks like this:</p>

<pre class="sh_sourceCode"><code><span class="sh_cbracket">{</span> dev<span class="sh_symbol">:</span> <span class="sh_number">2049</span>
<span class="sh_symbol">,</span> ino<span class="sh_symbol">:</span> <span class="sh_number">305352</span>
<span class="sh_symbol">,</span> mode<span class="sh_symbol">:</span> <span class="sh_number">16877</span>
<span class="sh_symbol">,</span> nlink<span class="sh_symbol">:</span> <span class="sh_number">12</span>
<span class="sh_symbol">,</span> uid<span class="sh_symbol">:</span> <span class="sh_number">1000</span>
<span class="sh_symbol">,</span> gid<span class="sh_symbol">:</span> <span class="sh_number">1000</span>
<span class="sh_symbol">,</span> rdev<span class="sh_symbol">:</span> <span class="sh_number">0</span>
<span class="sh_symbol">,</span> size<span class="sh_symbol">:</span> <span class="sh_number">4096</span>
<span class="sh_symbol">,</span> blksize<span class="sh_symbol">:</span> <span class="sh_number">4096</span>
<span class="sh_symbol">,</span> blocks<span class="sh_symbol">:</span> <span class="sh_number">8</span>
<span class="sh_symbol">,</span> atime<span class="sh_symbol">:</span> <span class="sh_string">'2009-06-29T11:11:55Z'</span>
<span class="sh_symbol">,</span> mtime<span class="sh_symbol">:</span> <span class="sh_string">'2009-06-29T11:11:40Z'</span>
<span class="sh_symbol">,</span> ctime<span class="sh_symbol">:</span> <span class="sh_string">'2009-06-29T11:11:40Z'</span> 
<span class="sh_cbracket">}</span></code></pre>

<p>See the <code>fs.Stats</code> section below for more information.</p>

<h3 id="fs.lstat">fs.lstat(path, [callback])</h3>

<p>Asynchronous lstat(2). The callback gets two arguments <code>(err, stats)</code> where <code>stats</code> is a <code>fs.Stats</code> object.</p>

<h3 id="fs.fstat">fs.fstat(fd, [callback])</h3>

<p>Asynchronous fstat(2). The callback gets two arguments <code>(err, stats)</code> where <code>stats</code> is a <code>fs.Stats</code> object.</p>

<h3 id="fs.statSync">fs.statSync(path)</h3>

<p>Synchronous stat(2). Returns an instance of <code>fs.Stats</code>.</p>

<h3 id="fs.lstatSync">fs.lstatSync(path)</h3>

<p>Synchronous lstat(2). Returns an instance of <code>fs.Stats</code>.</p>

<h3 id="fs.fstatSync">fs.fstatSync(fd)</h3>

<p>Synchronous fstat(2). Returns an instance of <code>fs.Stats</code>.</p>

<h3 id="fs.link">fs.link(srcpath, dstpath, [callback])</h3>

<p>Asynchronous link(2). No arguments other than a possible exception are given to the completion callback.</p>

<h3 id="fs.linkSync">fs.linkSync(dstpath, srcpath)</h3>

<p>Synchronous link(2).</p>

<h3 id="fs.symlink">fs.symlink(linkdata, path, [callback])</h3>

<p>Asynchronous symlink(2). No arguments other than a possible exception are given to the completion callback.</p>

<h3 id="fs.symlinkSync">fs.symlinkSync(linkdata, path)</h3>

<p>Synchronous symlink(2).</p>

<h3 id="fs.readlink">fs.readlink(path, [callback])</h3>

<p>Asynchronous readlink(2). The callback gets two arguments <code>(err, resolvedPath)</code>. </p>

<h3 id="fs.readlinkSync">fs.readlinkSync(path)</h3>

<p>Synchronous readlink(2). Returns the resolved path.</p>

<h3 id="fs.realpath">fs.realpath(path, [callback])</h3>

<p>Asynchronous realpath(2).  The callback gets two arguments <code>(err, resolvedPath)</code>.</p>

<h3 id="fs.realpathSync">fs.realpathSync(path)</h3>

<p>Synchronous realpath(2). Returns the resolved path.</p>

<h3 id="fs.unlink">fs.unlink(path, [callback])</h3>

<p>Asynchronous unlink(2). No arguments other than a possible exception are given to the completion callback.</p>

<h3 id="fs.unlinkSync">fs.unlinkSync(path)</h3>

<p>Synchronous unlink(2).</p>

<h3 id="fs.rmdir">fs.rmdir(path, [callback])</h3>

<p>Asynchronous rmdir(2). No arguments other than a possible exception are given to the completion callback.</p>

<h3 id="fs.rmdirSync">fs.rmdirSync(path)</h3>

<p>Synchronous rmdir(2).</p>

<h3 id="fs.mkdir">fs.mkdir(path, mode, [callback])</h3>

<p>Asynchronous mkdir(2). No arguments other than a possible exception are given to the completion callback.</p>

<h3 id="fs.mkdirSync">fs.mkdirSync(path, mode)</h3>

<p>Synchronous mkdir(2).</p>

<h3 id="fs.readdir">fs.readdir(path, [callback])</h3>

<p>Asynchronous readdir(3).  Reads the contents of a directory.
The callback gets two arguments <code>(err, files)</code> where <code>files</code> is an array of
the names of the files in the directory excluding <code>'.'</code> and <code>'..'</code>.</p>

<h3 id="fs.readdirSync">fs.readdirSync(path)</h3>

<p>Synchronous readdir(3). Returns an array of filenames excluding <code>'.'</code> and
<code>'..'</code>.</p>

<h3 id="fs.close">fs.close(fd, [callback])</h3>

<p>Asynchronous close(2).  No arguments other than a possible exception are given to the completion callback.</p>

<h3 id="fs.closeSync">fs.closeSync(fd)</h3>

<p>Synchronous close(2).</p>

<h3 id="fs.open">fs.open(path, flags, mode=0666, [callback])</h3>

<p>Asynchronous file open. See open(2). Flags can be 'r', 'r+', 'w', 'w+', 'a',
or 'a+'. The callback gets two arguments <code>(err, fd)</code>. </p>

<h3 id="fs.openSync">fs.openSync(path, flags, mode=0666)</h3>

<p>Synchronous open(2). </p>

<h3 id="fs.write">fs.write(fd, buffer, offset, length, position, [callback])</h3>

<p>Write <code>buffer</code> to the file specified by <code>fd</code>.</p>

<p><code>offset</code> and <code>length</code> determine the part of the buffer to be written.</p>

<p><code>position</code> refers to the offset from the beginning of the file where this data
should be written. If <code>position</code> is <code>null</code>, the data will be written at the
current position.
See pwrite(2).</p>

<p>The callback will be given two arguments <code>(err, written)</code> where <code>written</code>
specifies how many <em>bytes</em> were written.</p>

<h3 id="fs.writeSync">fs.writeSync(fd, buffer, offset, length, position)</h3>

<p>Synchronous version of buffer-based <code>fs.write()</code>. Returns the number of bytes written.</p>

<h3 id="fs.writeSync">fs.writeSync(fd, str, position, encoding='utf8')</h3>

<p>Synchronous version of string-based <code>fs.write()</code>. Returns the number of bytes written.</p>

<h3 id="fs.read">fs.read(fd, buffer, offset, length, position, [callback])</h3>

<p>Read data from the file specified by <code>fd</code>.</p>

<p><code>buffer</code> is the buffer that the data will be written to.</p>

<p><code>offset</code> is offset within the buffer where writing will start.</p>

<p><code>length</code> is an integer specifying the number of bytes to read.</p>

<p><code>position</code> is an integer specifying where to begin reading from in the file.
If <code>position</code> is <code>null</code>, data will be read from the current file position.</p>

<p>The callback is given the two arguments, <code>(err, bytesRead)</code>.</p>

<h3 id="fs.readSync">fs.readSync(fd, buffer, offset, length, position)</h3>

<p>Synchronous version of buffer-based <code>fs.read</code>. Returns the number of <code>bytesRead</code>.</p>

<h3 id="fs.readSync">fs.readSync(fd, length, position, encoding)</h3>

<p>Synchronous version of string-based <code>fs.read</code>. Returns the number of <code>bytesRead</code>.</p>

<h3 id="fs.readFile">fs.readFile(filename, [encoding], [callback])</h3>

<p>Asynchronously reads the entire contents of a file. Example:</p>

<pre class="sh_sourceCode"><code>fs<span class="sh_symbol">.</span><span class="sh_function">readFile</span><span class="sh_symbol">(</span><span class="sh_string">'/etc/passwd'</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">(</span>err<span class="sh_symbol">,</span> data<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
  <span class="sh_keyword">if</span> <span class="sh_symbol">(</span>err<span class="sh_symbol">)</span> <span class="sh_keyword">throw</span> err<span class="sh_symbol">;</span>
  console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span>data<span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">);</span></code></pre>

<p>The callback is passed two arguments <code>(err, data)</code>, where <code>data</code> is the
contents of the file.</p>

<p>If no encoding is specified, then the raw buffer is returned.</p>

<h3 id="fs.readFileSync">fs.readFileSync(filename, [encoding])</h3>

<p>Synchronous version of <code>fs.readFile</code>. Returns the contents of the <code>filename</code>.</p>

<p>If <code>encoding</code> is specified then this function returns a string. Otherwise it
returns a buffer.</p>

<h3 id="fs.writeFile">fs.writeFile(filename, data, encoding='utf8', [callback])</h3>

<p>Asynchronously writes data to a file. <code>data</code> can be a string or a buffer.</p>

<p>Example:</p>

<pre class="sh_sourceCode"><code>fs<span class="sh_symbol">.</span><span class="sh_function">writeFile</span><span class="sh_symbol">(</span><span class="sh_string">'message.txt'</span><span class="sh_symbol">,</span> <span class="sh_string">'Hello Node'</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">(</span>err<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
  <span class="sh_keyword">if</span> <span class="sh_symbol">(</span>err<span class="sh_symbol">)</span> <span class="sh_keyword">throw</span> err<span class="sh_symbol">;</span>
  console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'It</span><span class="sh_specialchar">\'</span><span class="sh_string">s saved!'</span><span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">);</span></code></pre>

<h3 id="fs.writeFileSync">fs.writeFileSync(filename, data, encoding='utf8')</h3>

<p>The synchronous version of <code>fs.writeFile</code>.</p>

<h3 id="fs.watchFile">fs.watchFile(filename, [options], listener)</h3>

<p>Watch for changes on <code>filename</code>. The callback <code>listener</code> will be called each
time the file changes.</p>

<p>The second argument is optional. The <code>options</code> if provided should be an object
containing two members a boolean, <code>persistent</code>, and <code>interval</code>, a polling
value in milliseconds. The default is <code>{persistent: true, interval: 0}</code>.</p>

<p>The <code>listener</code> gets two arguments the current stat object and the previous
stat object:</p>

<pre class="sh_sourceCode"><code>fs<span class="sh_symbol">.</span><span class="sh_function">watchFile</span><span class="sh_symbol">(</span>f<span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">(</span>curr<span class="sh_symbol">,</span> prev<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
  console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'the current mtime is: '</span> <span class="sh_symbol">+</span> curr<span class="sh_symbol">.</span>mtime<span class="sh_symbol">);</span>
  console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'the previous mtime was: '</span> <span class="sh_symbol">+</span> prev<span class="sh_symbol">.</span>mtime<span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">);</span></code></pre>

<p>These stat objects are instances of <code>fs.Stat</code>. </p>

<h3 id="fs.unwatchFile">fs.unwatchFile(filename)</h3>

<p>Stop watching for changes on <code>filename</code>.</p>

<h2 id="fs.Stats">fs.Stats</h2>

<p>Objects returned from <code>fs.stat()</code> and <code>fs.lstat()</code> are of this type.</p>

<ul><li><code>stats.isFile()</code></li><li><code>stats.isDirectory()</code></li><li><code>stats.isBlockDevice()</code></li><li><code>stats.isCharacterDevice()</code></li><li><code>stats.isSymbolicLink()</code> (only valid with  <code>fs.lstat()</code>)</li><li><code>stats.isFIFO()</code></li><li><code>stats.isSocket()</code></li></ul>

<h2 id="fs.ReadStream">fs.ReadStream</h2>

<p><code>ReadStream</code> is a <code>Readable Stream</code>.</p>

<h3 id="fs.createReadStream">fs.createReadStream(path, [options])</h3>

<p>Returns a new ReadStream object (See <code>Readable Stream</code>).</p>

<p><code>options</code> is an object with the following defaults:</p>

<pre class="sh_sourceCode"><code><span class="sh_cbracket">{</span> <span class="sh_string">'flags'</span><span class="sh_symbol">:</span> <span class="sh_string">'r'</span>
<span class="sh_symbol">,</span> <span class="sh_string">'encoding'</span><span class="sh_symbol">:</span> <span class="sh_keyword">null</span>
<span class="sh_symbol">,</span> <span class="sh_string">'mode'</span><span class="sh_symbol">:</span> <span class="sh_number">0666</span>
<span class="sh_symbol">,</span> <span class="sh_string">'bufferSize'</span><span class="sh_symbol">:</span> <span class="sh_number">4</span> <span class="sh_symbol">*</span> <span class="sh_number">1024</span>
<span class="sh_cbracket">}</span></code></pre>

<p><code>options</code> can include <code>start</code> and <code>end</code> values to read a range of bytes from
the file instead of the entire file.  Both <code>start</code> and <code>end</code> are inclusive and
start at 0.  When used, both the limits must be specified always.</p>

<p>An example to read the last 10 bytes of a file which is 100 bytes long:</p>

<pre class="sh_sourceCode"><code>fs<span class="sh_symbol">.</span><span class="sh_function">createReadStream</span><span class="sh_symbol">(</span><span class="sh_string">'sample.txt'</span><span class="sh_symbol">,</span> <span class="sh_cbracket">{</span>start<span class="sh_symbol">:</span> <span class="sh_number">90</span><span class="sh_symbol">,</span> end<span class="sh_symbol">:</span> <span class="sh_number">99</span><span class="sh_cbracket">}</span><span class="sh_symbol">);</span></code></pre>

<h2 id="fs.WriteStream">fs.WriteStream</h2>

<p><code>WriteStream</code> is a <code>Writable Stream</code>.</p>

<h3 id="event_open_">Event: 'open'</h3>

<p><code>function (fd) { }</code></p>

<p> <code>fd</code> is the file descriptor used by the WriteStream.</p>

<h3 id="fs.createWriteStream">fs.createWriteStream(path, [options])</h3>

<p>Returns a new WriteStream object (See <code>Writable Stream</code>).</p>

<p><code>options</code> is an object with the following defaults:</p>

<pre class="sh_sourceCode"><code><span class="sh_cbracket">{</span> <span class="sh_string">'flags'</span><span class="sh_symbol">:</span> <span class="sh_string">'w'</span>
<span class="sh_symbol">,</span> <span class="sh_string">'encoding'</span><span class="sh_symbol">:</span> <span class="sh_keyword">null</span>
<span class="sh_symbol">,</span> <span class="sh_string">'mode'</span><span class="sh_symbol">:</span> <span class="sh_number">0666</span>
<span class="sh_cbracket">}</span></code></pre>

<h2 id="path">Path</h2>

<p>This module contains utilities for dealing with file paths.  Use
<code>require('path')</code> to use it.  It provides the following methods:</p>

<h3 id="path.join">path.join([path1], [path2], [...])</h3>

<p>Join all arguments together and resolve the resulting path.</p>

<p>Example:</p>

<pre class="sh_sourceCode"><code>node<span class="sh_symbol">&gt;</span> <span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">'path'</span><span class="sh_symbol">).</span><span class="sh_function">join</span><span class="sh_symbol">(</span>
<span class="sh_symbol">...</span>   <span class="sh_string">'/foo'</span><span class="sh_symbol">,</span> <span class="sh_string">'bar'</span><span class="sh_symbol">,</span> <span class="sh_string">'baz/asdf'</span><span class="sh_symbol">,</span> <span class="sh_string">'quux'</span><span class="sh_symbol">,</span> <span class="sh_string">'..'</span><span class="sh_symbol">)</span>
<span class="sh_string">'/foo/bar/baz/asdf'</span></code></pre>

<h3 id="path.normalizeArray">path.normalizeArray(arr)</h3>

<p>Normalize an array of path parts, taking care of <code>'..'</code> and <code>'.'</code> parts.</p>

<p>Example:</p>

<pre class="sh_sourceCode"><code>path<span class="sh_symbol">.</span><span class="sh_function">normalizeArray</span><span class="sh_symbol">([</span><span class="sh_string">''</span><span class="sh_symbol">,</span> 
  <span class="sh_string">'foo'</span><span class="sh_symbol">,</span> <span class="sh_string">'bar'</span><span class="sh_symbol">,</span> <span class="sh_string">'baz'</span><span class="sh_symbol">,</span> <span class="sh_string">'asdf'</span><span class="sh_symbol">,</span> <span class="sh_string">'quux'</span><span class="sh_symbol">,</span> <span class="sh_string">'..'</span><span class="sh_symbol">])</span>
<span class="sh_comment">// returns</span>
<span class="sh_symbol">[</span> <span class="sh_string">''</span><span class="sh_symbol">,</span> <span class="sh_string">'foo'</span><span class="sh_symbol">,</span> <span class="sh_string">'bar'</span><span class="sh_symbol">,</span> <span class="sh_string">'baz'</span><span class="sh_symbol">,</span> <span class="sh_string">'asdf'</span> <span class="sh_symbol">]</span></code></pre>

<h3 id="path.normalize">path.normalize(p)</h3>

<p>Normalize a string path, taking care of <code>'..'</code> and <code>'.'</code> parts.</p>

<p>Example:</p>

<pre class="sh_sourceCode"><code>path<span class="sh_symbol">.</span><span class="sh_function">normalize</span><span class="sh_symbol">(</span><span class="sh_string">'/foo/bar/baz/asdf/quux/..'</span><span class="sh_symbol">)</span>
<span class="sh_comment">// returns</span>
<span class="sh_string">'/foo/bar/baz/asdf'</span></code></pre>

<h3 id="path.dirname">path.dirname(p)</h3>

<p>Return the directory name of a path.  Similar to the Unix <code>dirname</code> command.</p>

<p>Example:</p>

<pre class="sh_sourceCode"><code>path<span class="sh_symbol">.</span><span class="sh_function">dirname</span><span class="sh_symbol">(</span><span class="sh_string">'/foo/bar/baz/asdf/quux'</span><span class="sh_symbol">)</span>
<span class="sh_comment">// returns</span>
<span class="sh_string">'/foo/bar/baz/asdf'</span></code></pre>

<h3 id="path.basename">path.basename(p, [ext])</h3>

<p>Return the last portion of a path.  Similar to the Unix <code>basename</code> command.</p>

<p>Example:</p>

<pre class="sh_sourceCode"><code>path<span class="sh_symbol">.</span><span class="sh_function">basename</span><span class="sh_symbol">(</span><span class="sh_string">'/foo/bar/baz/asdf/quux.html'</span><span class="sh_symbol">)</span>
<span class="sh_comment">// returns</span>
<span class="sh_string">'quux.html'</span>

path<span class="sh_symbol">.</span><span class="sh_function">basename</span><span class="sh_symbol">(</span><span class="sh_string">'/foo/bar/baz/asdf/quux.html'</span><span class="sh_symbol">,</span> <span class="sh_string">'.html'</span><span class="sh_symbol">)</span>
<span class="sh_comment">// returns</span>
<span class="sh_string">'quux'</span></code></pre>

<h3 id="path.extname">path.extname(p)</h3>

<p>Return the extension of the path.  Everything after the last '.' in the last portion
of the path.  If there is no '.' in the last portion of the path or the only '.' is
the first character, then it returns an empty string.  Examples:</p>

<pre class="sh_sourceCode"><code>path<span class="sh_symbol">.</span><span class="sh_function">extname</span><span class="sh_symbol">(</span><span class="sh_string">'index.html'</span><span class="sh_symbol">)</span>
<span class="sh_comment">// returns </span>
<span class="sh_string">'.html'</span>

path<span class="sh_symbol">.</span><span class="sh_function">extname</span><span class="sh_symbol">(</span><span class="sh_string">'index'</span><span class="sh_symbol">)</span>
<span class="sh_comment">// returns</span>
<span class="sh_string">''</span></code></pre>

<h3 id="path.exists">path.exists(p, [callback])</h3>

<p>Test whether or not the given path exists.  Then, call the <code>callback</code> argument with either true or false.  Example:</p>

<pre class="sh_sourceCode"><code>path<span class="sh_symbol">.</span><span class="sh_function">exists</span><span class="sh_symbol">(</span><span class="sh_string">'/etc/passwd'</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">(</span>exists<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
  util<span class="sh_symbol">.</span><span class="sh_function">debug</span><span class="sh_symbol">(</span>exists <span class="sh_symbol">?</span> <span class="sh_string">"it's there"</span> <span class="sh_symbol">:</span> <span class="sh_string">"no passwd!"</span><span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">);</span></code></pre>

<h2 id="net">net</h2>

<p>The <code>net</code> module provides you with an asynchronous network wrapper. It contains
methods for creating both servers and clients (called streams). You can include 
this module with <code>require("net");</code></p>

<h3 id="net.createServer">net.createServer(connectionListener)</h3>

<p>Creates a new TCP server. The <code>connectionListener</code> argument is
automatically set as a listener for the <code>'connection'</code> event.</p>

<h3 id="net.createConnection">net.createConnection(arguments...)</h3>

<p>Construct a new stream object and opens a stream to the given location. When
the stream is established the <code>'connect'</code> event will be emitted.</p>

<p>The arguments for this method change the type of connection:</p>

<ul><li><p><code>net.createConnection(port, [host])</code></p><p>Creates a TCP connection to <code>port</code> on <code>host</code>. If <code>host</code> is omitted, <code>localhost</code>
will be assumed.</p></li><li><p><code>net.createConnection(path)</code></p><p>Creates unix socket connection to <code>path</code></p></li></ul>

<hr>

<h3 id="net.Server">net.Server</h3>

<p>This class is used to create a TCP or UNIX server.</p>

<p>Here is an example of a echo server which listens for connections
on port 8124:</p>

<pre class="sh_sourceCode"><code><span class="sh_keyword">var</span> net <span class="sh_symbol">=</span> <span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">'net'</span><span class="sh_symbol">);</span>
<span class="sh_keyword">var</span> server <span class="sh_symbol">=</span> net<span class="sh_symbol">.</span><span class="sh_function">createServer</span><span class="sh_symbol">(</span><span class="sh_keyword">function</span> <span class="sh_symbol">(</span>stream<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
  stream<span class="sh_symbol">.</span><span class="sh_function">setEncoding</span><span class="sh_symbol">(</span><span class="sh_string">'utf8'</span><span class="sh_symbol">);</span>
  stream<span class="sh_symbol">.</span><span class="sh_function">on</span><span class="sh_symbol">(</span><span class="sh_string">'connect'</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">()</span> <span class="sh_cbracket">{</span>
    stream<span class="sh_symbol">.</span><span class="sh_function">write</span><span class="sh_symbol">(</span><span class="sh_string">'hello</span><span class="sh_specialchar">\r\n</span><span class="sh_string">'</span><span class="sh_symbol">);</span>
  <span class="sh_cbracket">}</span><span class="sh_symbol">);</span>
  stream<span class="sh_symbol">.</span><span class="sh_function">on</span><span class="sh_symbol">(</span><span class="sh_string">'data'</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">(</span>data<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
    stream<span class="sh_symbol">.</span><span class="sh_function">write</span><span class="sh_symbol">(</span>data<span class="sh_symbol">);</span>
  <span class="sh_cbracket">}</span><span class="sh_symbol">);</span>
  stream<span class="sh_symbol">.</span><span class="sh_function">on</span><span class="sh_symbol">(</span><span class="sh_string">'end'</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">()</span> <span class="sh_cbracket">{</span>
    stream<span class="sh_symbol">.</span><span class="sh_function">write</span><span class="sh_symbol">(</span><span class="sh_string">'goodbye</span><span class="sh_specialchar">\r\n</span><span class="sh_string">'</span><span class="sh_symbol">);</span>
    stream<span class="sh_symbol">.</span><span class="sh_function">end</span><span class="sh_symbol">();</span>
  <span class="sh_cbracket">}</span><span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">);</span>
server<span class="sh_symbol">.</span><span class="sh_function">listen</span><span class="sh_symbol">(</span><span class="sh_number">8124</span><span class="sh_symbol">,</span> <span class="sh_string">'localhost'</span><span class="sh_symbol">);</span></code></pre>

<p>To listen on the socket <code>'/tmp/echo.sock'</code>, the last line would just be
changed to</p>

<pre class="sh_sourceCode"><code>server<span class="sh_symbol">.</span><span class="sh_function">listen</span><span class="sh_symbol">(</span><span class="sh_string">'/tmp/echo.sock'</span><span class="sh_symbol">);</span></code></pre>

<p>This is an <code>EventEmitter</code> with the following events:</p>

<h4 id="server.listen">server.listen(port, [host], [callback])</h4>

<p>Begin accepting connections on the specified <code>port</code> and <code>host</code>.  If the
<code>host</code> is omitted, the server will accept connections directed to any
IPv4 address (<code>INADDR_ANY</code>).</p>

<p>This function is asynchronous. The last parameter <code>callback</code> will be called
when the server has been bound.</p>

<h4 id="server.listen">server.listen(path, [callback])</h4>

<p>Start a UNIX socket server listening for connections on the given <code>path</code>.</p>

<p>This function is asynchronous. The last parameter <code>callback</code> will be called
when the server has been bound.</p>

<h4 id="server.listenFD">server.listenFD(fd)</h4>

<p>Start a server listening for connections on the given file descriptor.</p>

<p>This file descriptor must have already had the <code>bind(2)</code> and <code>listen(2)</code> system
calls invoked on it.</p>

<h4 id="server.close">server.close()</h4>

<p>Stops the server from accepting new connections. This function is
asynchronous, the server is finally closed when the server emits a <code>'close'</code>
event.</p>

<h4 id="server.address">server.address()</h4>

<p>Returns the bound address of the server as seen by the operating system.
Useful to find which port was assigned when giving getting an OS-assigned address</p>

<p>Example:</p>

<pre class="sh_sourceCode"><code><span class="sh_keyword">var</span> server <span class="sh_symbol">=</span> net<span class="sh_symbol">.</span><span class="sh_function">createServer</span><span class="sh_symbol">(</span><span class="sh_keyword">function</span> <span class="sh_symbol">(</span>socket<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
  socket<span class="sh_symbol">.</span><span class="sh_function">end</span><span class="sh_symbol">(</span><span class="sh_string">"goodbye</span><span class="sh_specialchar">\n</span><span class="sh_string">"</span><span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">);</span>

<span class="sh_comment">// grab a random port.</span>
server<span class="sh_symbol">.</span><span class="sh_function">listen</span><span class="sh_symbol">(</span><span class="sh_keyword">function</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span>
  address <span class="sh_symbol">=</span> server<span class="sh_symbol">.</span><span class="sh_function">address</span><span class="sh_symbol">();</span>
  console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">"opened server on %j"</span><span class="sh_symbol">,</span> address<span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">);</span></code></pre>

<h4 id="server.maxConnections">server.maxConnections</h4>

<p>Set this property to reject connections when the server's connection count gets high.</p>

<h4 id="server.connections">server.connections</h4>

<p>The number of concurrent connections on the server.</p>

<h4 id="event_connection_">Event: 'connection'</h4>

<p><code>function (stream) {}</code></p>

<p>Emitted when a new connection is made. <code>stream</code> is an instance of
<code>net.Stream</code>.</p>

<h4 id="event_close_">Event: 'close'</h4>

<p><code>function () {}</code></p>

<p>Emitted when the server closes.</p>

<hr>

<h3 id="net.Stream">net.Stream</h3>

<p>This object is an abstraction of of a TCP or UNIX socket.  <code>net.Stream</code>
instance implement a duplex stream interface.  They can be created by the
user and used as a client (with <code>connect()</code>) or they can be created by Node
and passed to the user through the <code>'connection'</code> event of a server.</p>

<p><code>net.Stream</code> instances are EventEmitters with the following events:</p>

<h4 id="stream.connect">stream.connect(port, [host])</h4>

<h4 id="stream.connect">stream.connect(path)</h4>

<p>Opens the connection for a given stream. If <code>port</code> and <code>host</code> are given,
then the stream will be opened as a TCP stream, if <code>host</code> is omitted,
<code>localhost</code> will be assumed. If a <code>path</code> is given, the stream will be
opened as a unix socket to that path.</p>

<p>Normally this method is not needed, as <code>net.createConnection</code> opens the
stream. Use this only if you are implementing a custom Stream or if a
Stream is closed and you want to reuse it to connect to another server.</p>

<p>This function is asynchronous. When the <code>'connect'</code> event is emitted the
stream is established. If there is a problem connecting, the <code>'connect'</code>
event will not be emitted, the <code>'error'</code> event will be emitted with
the exception.</p>

<h4 id="stream.setEncoding">stream.setEncoding(encoding=null)</h4>

<p>Sets the encoding (either <code>'ascii'</code>, <code>'utf8'</code>, or <code>'base64'</code>) for data that is
received.</p>

<h4 id="stream.setSecure">stream.setSecure([credentials])</h4>

<p>Enables SSL support for the stream, with the crypto module credentials specifying
the private key and certificate of the stream, and optionally the CA certificates
for use in peer authentication.</p>

<p>If the credentials hold one ore more CA certificates, then the stream will request
for the peer to submit a client certificate as part of the SSL connection handshake.
The validity and content of this can be accessed via verifyPeer() and getPeerCertificate().</p>

<h4 id="stream.verifyPeer">stream.verifyPeer()</h4>

<p>Returns true or false depending on the validity of the peers's certificate in the
context of the defined or default list of trusted CA certificates.</p>

<h4 id="stream.getPeerCertificate">stream.getPeerCertificate()</h4>

<p>Returns a JSON structure detailing the peer's certificate, containing a dictionary
with keys for the certificate 'subject', 'issuer', 'valid_from' and 'valid_to'</p>

<h4 id="stream.write">stream.write(data, encoding='ascii')</h4>

<p>Sends data on the stream. The second parameter specifies the encoding in
the case of a string--it defaults to ASCII because encoding to UTF8 is rather
slow.</p>

<p>Returns <code>true</code> if the entire data was flushed successfully to the kernel
buffer. Returns <code>false</code> if all or part of the data was queued in user memory.
<code>'drain'</code> will be emitted when the buffer is again free.</p>

<h4 id="stream.end">stream.end([data], [encoding])</h4>

<p>Half-closes the stream. I.E., it sends a FIN packet. It is possible the
server will still send some data. After calling this <code>readyState</code> will be
<code>'readOnly'</code>.</p>

<p>If <code>data</code> is specified, it is equivalent to calling <code>stream.write(data, encoding)</code>
followed by <code>stream.end()</code>.</p>

<h4 id="stream.destroy">stream.destroy()</h4>

<p>Ensures that no more I/O activity happens on this stream. Only necessary in
case of errors (parse error or so).</p>

<h4 id="stream.pause">stream.pause()</h4>

<p>Pauses the reading of data. That is, <code>'data'</code> events will not be emitted.
Useful to throttle back an upload.</p>

<h4 id="stream.resume">stream.resume()</h4>

<p>Resumes reading after a call to <code>pause()</code>.</p>

<h4 id="stream.setTimeout">stream.setTimeout(timeout)</h4>

<p>Sets the stream to timeout after <code>timeout</code> milliseconds of inactivity on
the stream. By default <code>net.Stream</code> do not have a timeout.</p>

<p>When an idle timeout is triggered the stream will receive a <code>'timeout'</code>
event but the connection will not be severed. The user must manually <code>end()</code>
or <code>destroy()</code> the stream.</p>

<p>If <code>timeout</code> is 0, then the existing idle timeout is disabled.</p>

<h4 id="stream.setNoDelay">stream.setNoDelay(noDelay=true)</h4>

<p>Disables the Nagle algorithm. By default TCP connections use the Nagle
algorithm, they buffer data before sending it off. Setting <code>noDelay</code> will
immediately fire off data each time <code>stream.write()</code> is called.</p>

<h4 id="stream.setKeepAlive">stream.setKeepAlive(enable=false, [initialDelay])</h4>

<p>Enable/disable keep-alive functionality, and optionally set the initial
delay before the first keepalive probe is sent on an idle stream.
Set <code>initialDelay</code> (in milliseconds) to set the delay between the last
data packet received and the first keepalive probe. Setting 0 for
initialDelay will leave the value unchanged from the default
(or previous) setting.</p>

<h4 id="stream.remoteAddress">stream.remoteAddress</h4>

<p>The string representation of the remote IP address. For example,
<code>'74.125.127.100'</code> or <code>'2001:4860:a005::68'</code>.</p>

<p>This member is only present in server-side connections.</p>

<h4 id="stream.readyState">stream.readyState</h4>

<p>Either <code>'closed'</code>, <code>'open'</code>, <code>'opening'</code>, <code>'readOnly'</code>, or <code>'writeOnly'</code>.</p>

<h4 id="event_connect_">Event: 'connect'</h4>

<p><code>function () { }</code></p>

<p>Emitted when a stream connection successfully is established.
See <code>connect()</code>.</p>

<h4 id="event_secure_">Event: 'secure'</h4>

<p><code>function () { }</code></p>

<p>Emitted when a stream connection successfully establishes an SSL handshake with its peer.</p>

<h4 id="event_data_">Event: 'data'</h4>

<p><code>function (data) { }</code></p>

<p>Emitted when data is received.  The argument <code>data</code> will be a <code>Buffer</code> or
<code>String</code>.  Encoding of data is set by <code>stream.setEncoding()</code>.
(See the section on <code>Readable Stream</code> for more information.)</p>

<h4 id="event_end_">Event: 'end'</h4>

<p><code>function () { }</code></p>

<p>Emitted when the other end of the stream sends a FIN packet.</p>

<p>By default (<code>allowHalfOpen == false</code>) the stream will destroy its file
descriptor  once it has written out its pending write queue.  However, by
setting <code>allowHalfOpen == true</code> the stream will not automatically <code>end()</code>
its side allowing the user to write arbitrary amounts of data, with the
caveat that the user is required to <code>end()</code> their side now. In the
<code>allowHalfOpen == true</code> case after <code>'end'</code> is emitted the <code>readyState</code> will
be <code>'writeOnly'</code>.</p>

<h4 id="event_timeout_">Event: 'timeout'</h4>

<p><code>function () { }</code></p>

<p>Emitted if the stream times out from inactivity. This is only to notify that
the stream has been idle. The user must manually close the connection.</p>

<p>See also: <code>stream.setTimeout()</code></p>

<h4 id="event_drain_">Event: 'drain'</h4>

<p><code>function () { }</code></p>

<p>Emitted when the write buffer becomes empty. Can be used to throttle uploads.</p>

<h4 id="event_error_">Event: 'error'</h4>

<p><code>function (exception) { }</code></p>

<p>Emitted when an error occurs.  The <code>'close'</code> event will be called directly
following this event.</p>

<h4 id="event_close_">Event: 'close'</h4>

<p><code>function (had_error) { }</code></p>

<p>Emitted once the stream is fully closed. The argument <code>had_error</code> is a boolean which says if
the stream was closed due to a transmission
error.</p>

<hr>

<h3 id="net.isIP">net.isIP</h3>

<h4 id="net.isIP">net.isIP(input)</h4>

<p>Tests if input is an IP address. Returns 0 for invalid strings,
returns 4 for IP version 4 addresses, and returns 6 for IP version 6 addresses.</p>

<h4 id="net.isIPv4">net.isIPv4(input)</h4>

<p>Returns true if input is a version 4 IP address, otherwise returns false.</p>

<h4 id="net.isIPv6">net.isIPv6(input)</h4>

<p>Returns true if input is a version 6 IP address, otherwise returns false.</p>

<h2 id="dNS">DNS</h2>

<p>Use <code>require('dns')</code> to access this module.</p>

<p>Here is an example which resolves <code>'www.google.com'</code> then reverse
resolves the IP addresses which are returned.</p>

<pre class="sh_sourceCode"><code><span class="sh_keyword">var</span> dns <span class="sh_symbol">=</span> <span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">'dns'</span><span class="sh_symbol">);</span>

dns<span class="sh_symbol">.</span><span class="sh_function">resolve4</span><span class="sh_symbol">(</span><span class="sh_string">'www.google.com'</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">(</span>err<span class="sh_symbol">,</span> addresses<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
  <span class="sh_keyword">if</span> <span class="sh_symbol">(</span>err<span class="sh_symbol">)</span> <span class="sh_keyword">throw</span> err<span class="sh_symbol">;</span>

  console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'addresses: '</span> <span class="sh_symbol">+</span> JSON<span class="sh_symbol">.</span><span class="sh_function">stringify</span><span class="sh_symbol">(</span>addresses<span class="sh_symbol">));</span>

  addresses<span class="sh_symbol">.</span><span class="sh_function">forEach</span><span class="sh_symbol">(</span><span class="sh_keyword">function</span> <span class="sh_symbol">(</span>a<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
    dns<span class="sh_symbol">.</span><span class="sh_function">reverse</span><span class="sh_symbol">(</span>a<span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">(</span>err<span class="sh_symbol">,</span> domains<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
      <span class="sh_keyword">if</span> <span class="sh_symbol">(</span>err<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
        console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'reverse for '</span> <span class="sh_symbol">+</span> a <span class="sh_symbol">+</span> <span class="sh_string">' failed: '</span> <span class="sh_symbol">+</span>
          err<span class="sh_symbol">.</span>message<span class="sh_symbol">);</span>
      <span class="sh_cbracket">}</span> <span class="sh_keyword">else</span> <span class="sh_cbracket">{</span>
        console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'reverse for '</span> <span class="sh_symbol">+</span> a <span class="sh_symbol">+</span> <span class="sh_string">': '</span> <span class="sh_symbol">+</span>
          JSON<span class="sh_symbol">.</span><span class="sh_function">stringify</span><span class="sh_symbol">(</span>domains<span class="sh_symbol">));</span>
      <span class="sh_cbracket">}</span>
    <span class="sh_cbracket">}</span><span class="sh_symbol">);</span>
  <span class="sh_cbracket">}</span><span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">);</span></code></pre>

<h3 id="dns.lookup">dns.lookup(domain, family=null, callback)</h3>

<p>Resolves a domain (e.g. <code>'google.com'</code>) into the first found A (IPv4) or
AAAA (IPv6) record.</p>

<p>The callback has arguments <code>(err, address, family)</code>.  The <code>address</code> argument
is a string representation of a IP v4 or v6 address. The <code>family</code> argument
is either the integer 4 or 6 and denotes the family of <code>address</code> (not
neccessarily the value initially passed to <code>lookup</code>).</p>

<h3 id="dns.resolve">dns.resolve(domain, rrtype='A', callback)</h3>

<p>Resolves a domain (e.g. <code>'google.com'</code>) into an array of the record types
specified by rrtype. Valid rrtypes are <code>A</code> (IPV4 addresses), <code>AAAA</code> (IPV6
addresses), <code>MX</code> (mail exchange records), <code>TXT</code> (text records), <code>SRV</code> (SRV
records), and <code>PTR</code> (used for reverse IP lookups).</p>

<p>The callback has arguments <code>(err, addresses)</code>.  The type of each item
in <code>addresses</code> is determined by the record type, and described in the
documentation for the corresponding lookup methods below.</p>

<p>On error, <code>err</code> would be an instanceof <code>Error</code> object, where <code>err.errno</code> is
one of the error codes listed below and <code>err.message</code> is a string describing
the error in English.</p>

<h3 id="dns.resolve4">dns.resolve4(domain, callback)</h3>

<p>The same as <code>dns.resolve()</code>, but only for IPv4 queries (<code>A</code> records). 
<code>addresses</code> is an array of IPv4 addresses (e.g.<br><br><code>['74.125.79.104', '74.125.79.105', '74.125.79.106']</code>).</p>

<h3 id="dns.resolve6">dns.resolve6(domain, callback)</h3>

<p>The same as <code>dns.resolve4()</code> except for IPv6 queries (an <code>AAAA</code> query).</p>

<h3 id="dns.resolveMx">dns.resolveMx(domain, callback)</h3>

<p>The same as <code>dns.resolve()</code>, but only for mail exchange queries (<code>MX</code> records).</p>

<p><code>addresses</code> is an array of MX records, each with a priority and an exchange
attribute (e.g. <code>[{'priority': 10, 'exchange': 'mx.example.com'},...]</code>).</p>

<h3 id="dns.resolveTxt">dns.resolveTxt(domain, callback)</h3>

<p>The same as <code>dns.resolve()</code>, but only for text queries (<code>TXT</code> records).
<code>addresses</code> is an array of the text records available for <code>domain</code> (e.g.,
<code>['v=spf1 ip4:0.0.0.0 ~all']</code>).</p>

<h3 id="dns.resolveSrv">dns.resolveSrv(domain, callback)</h3>

<p>The same as <code>dns.resolve()</code>, but only for service records (<code>SRV</code> records).
<code>addresses</code> is an array of the SRV records available for <code>domain</code>. Properties
of SRV records are priority, weight, port, and name (e.g., 
<code>[{'priority': 10, {'weight': 5, 'port': 21223, 'name': 'service.example.com'}, ...]</code>).</p>

<h3 id="dns.reverse">dns.reverse(ip, callback)</h3>

<p>Reverse resolves an ip address to an array of domain names.</p>

<p>The callback has arguments <code>(err, domains)</code>. </p>

<p>If there an an error, <code>err</code> will be non-null and an instanceof the Error
object.</p>

<p>Each DNS query can return an error code.</p>

<ul><li><code>dns.TEMPFAIL</code>: timeout, SERVFAIL or similar.</li><li><code>dns.PROTOCOL</code>: got garbled reply.</li><li><code>dns.NXDOMAIN</code>: domain does not exists.</li><li><code>dns.NODATA</code>: domain exists but no data of reqd type.</li><li><code>dns.NOMEM</code>: out of memory while processing.</li><li><code>dns.BADQUERY</code>: the query is malformed.</li></ul>

<h2 id="dgram">dgram</h2>

<p>Datagram sockets are available through <code>require('dgram')</code>.  Datagrams are most commonly 
handled as IP/UDP messages, but they can also be used over Unix domain sockets.</p>

<h3 id="event_message_">Event: 'message'</h3>

<p><code>function (msg, rinfo) { }</code></p>

<p>Emitted when a new datagram is available on a socket.  <code>msg</code> is a <code>Buffer</code> and <code>rinfo</code> is
an object with the sender's address information and the number of bytes in the datagram.</p>

<h3 id="event_listening_">Event: 'listening'</h3>

<p><code>function () { }</code></p>

<p>Emitted when a socket starts listening for datagrams.  This happens as soon as UDP sockets
are created.  Unix domain sockets do not start listening until calling <code>bind()</code> on them.</p>

<h3 id="event_close_">Event: 'close'</h3>

<p><code>function () { }</code></p>

<p>Emitted when a socket is closed with <code>close()</code>.  No new <code>message</code> events will be emitted
on this socket.</p>

<h3 id="dgram.createSocket">dgram.createSocket(type, [callback])</h3>

<p>Creates a datagram socket of the specified types.  Valid types are:
<code>udp4</code>, <code>udp6</code>, and <code>unix_dgram</code>.  </p>

<p>Takes an optional callback which is added as a listener for <code>message</code> events.</p>

<h3 id="dgram.send">dgram.send(buf, offset, length, path, [callback])</h3>

<p>For Unix domain datagram sockets, the destination address is a pathname in the filesystem.
An optional callback may be supplied that is invoked after the <code>sendto</code> call is completed
by the OS.  It is not safe to re-use <code>buf</code> until the callback is invoked.  Note that 
unless the socket is bound to a pathname with <code>bind()</code> there is no way to receive messages
on this socket.</p>

<p>Example of sending a message to syslogd on OSX via Unix domain socket <code>/var/run/syslog</code>:</p>

<pre class="sh_sourceCode"><code><span class="sh_keyword">var</span> dgram <span class="sh_symbol">=</span> <span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">'dgram'</span><span class="sh_symbol">);</span>
<span class="sh_keyword">var</span> message <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_function">Buffer</span><span class="sh_symbol">(</span><span class="sh_string">"A message to log."</span><span class="sh_symbol">);</span>
<span class="sh_keyword">var</span> client <span class="sh_symbol">=</span> dgram<span class="sh_symbol">.</span><span class="sh_function">createSocket</span><span class="sh_symbol">(</span><span class="sh_string">"unix_dgram"</span><span class="sh_symbol">);</span>
client<span class="sh_symbol">.</span><span class="sh_function">send</span><span class="sh_symbol">(</span>message<span class="sh_symbol">,</span> <span class="sh_number">0</span><span class="sh_symbol">,</span> message<span class="sh_symbol">.</span>length<span class="sh_symbol">,</span> <span class="sh_string">"/var/run/syslog"</span><span class="sh_symbol">,</span>
  <span class="sh_keyword">function</span> <span class="sh_symbol">(</span>err<span class="sh_symbol">,</span> bytes<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
    <span class="sh_keyword">if</span> <span class="sh_symbol">(</span>err<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
      <span class="sh_keyword">throw</span> err<span class="sh_symbol">;</span>
    <span class="sh_cbracket">}</span>
    console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">"Wrote "</span> <span class="sh_symbol">+</span> bytes <span class="sh_symbol">+</span> <span class="sh_string">" bytes to socket."</span><span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">);</span></code></pre>

<h3 id="dgram.send">dgram.send(buf, offset, length, port, address, [callback])</h3>

<p>For UDP sockets, the destination port and IP address must be specified.  A string
may be supplied for the <code>address</code> parameter, and it will be resolved with DNS.  An 
optional callback may be specified to detect any DNS errors and when <code>buf</code> may be
re-used.  Note that DNS lookups will delay the time that a send takes place, at
least until the next tick.  The only way to know for sure that a send has taken place
is to use the callback.</p>

<p>Example of sending a UDP packet to a random port on <code>localhost</code>;</p>

<pre class="sh_sourceCode"><code><span class="sh_keyword">var</span> dgram <span class="sh_symbol">=</span> <span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">'dgram'</span><span class="sh_symbol">);</span>
<span class="sh_keyword">var</span> message <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_function">Buffer</span><span class="sh_symbol">(</span><span class="sh_string">"Some bytes"</span><span class="sh_symbol">);</span>
<span class="sh_keyword">var</span> client <span class="sh_symbol">=</span> dgram<span class="sh_symbol">.</span><span class="sh_function">createSocket</span><span class="sh_symbol">(</span><span class="sh_string">"udp4"</span><span class="sh_symbol">);</span>
client<span class="sh_symbol">.</span><span class="sh_function">send</span><span class="sh_symbol">(</span>message<span class="sh_symbol">,</span> <span class="sh_number">0</span><span class="sh_symbol">,</span> message<span class="sh_symbol">.</span>length<span class="sh_symbol">,</span> <span class="sh_number">41234</span><span class="sh_symbol">,</span> <span class="sh_string">"localhost"</span><span class="sh_symbol">);</span>
client<span class="sh_symbol">.</span><span class="sh_function">close</span><span class="sh_symbol">();</span></code></pre>

<h3 id="dgram.bind">dgram.bind(path)</h3>

<p>For Unix domain datagram sockets, start listening for incoming datagrams on a
socket specified by <code>path</code>. Note that clients may <code>send()</code> without <code>bind()</code>,
but no datagrams will be received without a <code>bind()</code>.</p>

<p>Example of a Unix domain datagram server that echoes back all messages it receives:</p>

<pre class="sh_sourceCode"><code><span class="sh_keyword">var</span> dgram <span class="sh_symbol">=</span> <span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">"dgram"</span><span class="sh_symbol">);</span>
<span class="sh_keyword">var</span> serverPath <span class="sh_symbol">=</span> <span class="sh_string">"/tmp/dgram_server_sock"</span><span class="sh_symbol">;</span>
<span class="sh_keyword">var</span> server <span class="sh_symbol">=</span> dgram<span class="sh_symbol">.</span><span class="sh_function">createSocket</span><span class="sh_symbol">(</span><span class="sh_string">"unix_dgram"</span><span class="sh_symbol">);</span>

server<span class="sh_symbol">.</span><span class="sh_function">on</span><span class="sh_symbol">(</span><span class="sh_string">"message"</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">(</span>msg<span class="sh_symbol">,</span> rinfo<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
  console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">"got: "</span> <span class="sh_symbol">+</span> msg <span class="sh_symbol">+</span> <span class="sh_string">" from "</span> <span class="sh_symbol">+</span> rinfo<span class="sh_symbol">.</span>address<span class="sh_symbol">);</span>
  server<span class="sh_symbol">.</span><span class="sh_function">send</span><span class="sh_symbol">(</span>msg<span class="sh_symbol">,</span> <span class="sh_number">0</span><span class="sh_symbol">,</span> msg<span class="sh_symbol">.</span>length<span class="sh_symbol">,</span> rinfo<span class="sh_symbol">.</span>address<span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">);</span>

server<span class="sh_symbol">.</span><span class="sh_function">on</span><span class="sh_symbol">(</span><span class="sh_string">"listening"</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">()</span> <span class="sh_cbracket">{</span>
  console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">"server listening "</span> <span class="sh_symbol">+</span> server<span class="sh_symbol">.</span><span class="sh_function">address</span><span class="sh_symbol">().</span>address<span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">)</span>

server<span class="sh_symbol">.</span><span class="sh_function">bind</span><span class="sh_symbol">(</span>serverPath<span class="sh_symbol">);</span></code></pre>

<p>Example of a Unix domain datagram client that talks to this server:</p>

<pre class="sh_sourceCode"><code><span class="sh_keyword">var</span> dgram <span class="sh_symbol">=</span> <span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">"dgram"</span><span class="sh_symbol">);</span>
<span class="sh_keyword">var</span> serverPath <span class="sh_symbol">=</span> <span class="sh_string">"/tmp/dgram_server_sock"</span><span class="sh_symbol">;</span>
<span class="sh_keyword">var</span> clientPath <span class="sh_symbol">=</span> <span class="sh_string">"/tmp/dgram_client_sock"</span><span class="sh_symbol">;</span>

<span class="sh_keyword">var</span> message <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_function">Buffer</span><span class="sh_symbol">(</span><span class="sh_string">"A message at "</span> <span class="sh_symbol">+</span> <span class="sh_symbol">(</span><span class="sh_keyword">new</span> <span class="sh_predef_func">Date</span><span class="sh_symbol">()));</span>

<span class="sh_keyword">var</span> client <span class="sh_symbol">=</span> dgram<span class="sh_symbol">.</span><span class="sh_function">createSocket</span><span class="sh_symbol">(</span><span class="sh_string">"unix_dgram"</span><span class="sh_symbol">);</span>

client<span class="sh_symbol">.</span><span class="sh_function">on</span><span class="sh_symbol">(</span><span class="sh_string">"message"</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">(</span>msg<span class="sh_symbol">,</span> rinfo<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
  console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">"got: "</span> <span class="sh_symbol">+</span> msg <span class="sh_symbol">+</span> <span class="sh_string">" from "</span> <span class="sh_symbol">+</span> rinfo<span class="sh_symbol">.</span>address<span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">);</span>

client<span class="sh_symbol">.</span><span class="sh_function">on</span><span class="sh_symbol">(</span><span class="sh_string">"listening"</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">()</span> <span class="sh_cbracket">{</span>
  console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">"client listening "</span> <span class="sh_symbol">+</span> client<span class="sh_symbol">.</span><span class="sh_function">address</span><span class="sh_symbol">().</span>address<span class="sh_symbol">);</span>
  client<span class="sh_symbol">.</span><span class="sh_function">send</span><span class="sh_symbol">(</span>message<span class="sh_symbol">,</span> <span class="sh_number">0</span><span class="sh_symbol">,</span> message<span class="sh_symbol">.</span>length<span class="sh_symbol">,</span> serverPath<span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">);</span>

client<span class="sh_symbol">.</span><span class="sh_function">bind</span><span class="sh_symbol">(</span>clientPath<span class="sh_symbol">);</span></code></pre>

<h3 id="dgram.bind">dgram.bind(port, [address])</h3>

<p>For UDP sockets, listen for datagrams on a named <code>port</code> and optional <code>address</code>.  If
<code>address</code> is not specified, the OS will try to listen on all addresses.</p>

<p>Example of a UDP server listening on port 41234:</p>

<pre class="sh_sourceCode"><code><span class="sh_keyword">var</span> dgram <span class="sh_symbol">=</span> <span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">"dgram"</span><span class="sh_symbol">);</span>

<span class="sh_keyword">var</span> server <span class="sh_symbol">=</span> dgram<span class="sh_symbol">.</span><span class="sh_function">createSocket</span><span class="sh_symbol">(</span><span class="sh_string">"udp4"</span><span class="sh_symbol">);</span>
<span class="sh_keyword">var</span> messageToSend <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_function">Buffer</span><span class="sh_symbol">(</span><span class="sh_string">"A message to send"</span><span class="sh_symbol">);</span>

server<span class="sh_symbol">.</span><span class="sh_function">on</span><span class="sh_symbol">(</span><span class="sh_string">"message"</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">(</span>msg<span class="sh_symbol">,</span> rinfo<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
  console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">"server got: "</span> <span class="sh_symbol">+</span> msg <span class="sh_symbol">+</span> <span class="sh_string">" from "</span> <span class="sh_symbol">+</span>
    rinfo<span class="sh_symbol">.</span>address <span class="sh_symbol">+</span> <span class="sh_string">":"</span> <span class="sh_symbol">+</span> rinfo<span class="sh_symbol">.</span>port<span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">);</span>

server<span class="sh_symbol">.</span><span class="sh_function">on</span><span class="sh_symbol">(</span><span class="sh_string">"listening"</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">()</span> <span class="sh_cbracket">{</span>
  <span class="sh_keyword">var</span> address <span class="sh_symbol">=</span> server<span class="sh_symbol">.</span><span class="sh_function">address</span><span class="sh_symbol">();</span>
  console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">"server listening "</span> <span class="sh_symbol">+</span>
      address<span class="sh_symbol">.</span>address <span class="sh_symbol">+</span> <span class="sh_string">":"</span> <span class="sh_symbol">+</span> address<span class="sh_symbol">.</span>port<span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">);</span>

server<span class="sh_symbol">.</span><span class="sh_function">bind</span><span class="sh_symbol">(</span><span class="sh_number">41234</span><span class="sh_symbol">);</span>
<span class="sh_comment">// server listening 0.0.0.0:41234</span></code></pre>

<h3 id="dgram.close">dgram.close()</h3>

<p>Close the underlying socket and stop listening for data on it.  UDP sockets 
automatically listen for messages, even if they did not call <code>bind()</code>.</p>

<h3 id="dgram.address">dgram.address()</h3>

<p>Returns an object containing the address information for a socket.  For UDP sockets, 
this object will contain <code>address</code> and <code>port</code>.  For Unix domain sockets, it will contain
only <code>address</code>.</p>

<h3 id="dgram.setBroadcast">dgram.setBroadcast(flag)</h3>

<p>Sets or clears the <code>SO_BROADCAST</code> socket option.  When this option is set, UDP packets
may be sent to a local interface's broadcast address.</p>

<h3 id="dgram.setTTL">dgram.setTTL(ttl)</h3>

<p>Sets the <code>IP_TTL</code> socket option.  TTL stands for "Time to Live," but in this context it
specifies the number of IP hops that a packet is allowed to go through.  Each router or 
gateway that forwards a packet decrements the TTL.  If the TTL is decremented to 0 by a
router, it will not be forwarded.  Changing TTL values is typically done for network 
probes or when multicasting.</p>

<p>The argument to <code>setTTL()</code> is a number of hops between 1 and 255.  The default on most
systems is 64.</p>

<h2 id="hTTP">HTTP</h2>

<p>To use the HTTP server and client one must <code>require('http')</code>.</p>

<p>The HTTP interfaces in Node are designed to support many features
of the protocol which have been traditionally difficult to use.
In particular, large, possibly chunk-encoded, messages. The interface is
careful to never buffer entire requests or responses--the
user is able to stream data.</p>

<p>HTTP message headers are represented by an object like this:</p>

<pre class="sh_sourceCode"><code><span class="sh_cbracket">{</span> <span class="sh_string">'content-length'</span><span class="sh_symbol">:</span> <span class="sh_string">'123'</span>
<span class="sh_symbol">,</span> <span class="sh_string">'content-type'</span><span class="sh_symbol">:</span> <span class="sh_string">'text/plain'</span>
<span class="sh_symbol">,</span> <span class="sh_string">'connection'</span><span class="sh_symbol">:</span> <span class="sh_string">'keep-alive'</span>
<span class="sh_symbol">,</span> <span class="sh_string">'accept'</span><span class="sh_symbol">:</span> <span class="sh_string">'*/*'</span>
<span class="sh_cbracket">}</span></code></pre>

<p>Keys are lowercased. Values are not modified.</p>

<p>In order to support the full spectrum of possible HTTP applications, Node's
HTTP API is very low-level. It deals with stream handling and message
parsing only. It parses a message into headers and body but it does not
parse the actual headers or the body.</p>

<p>HTTPS is supported if OpenSSL is available on the underlying platform.</p>

<h2 id="http.Server">http.Server</h2>

<p>This is an <code>EventEmitter</code> with the following events:</p>

<h3 id="event_request_">Event: 'request'</h3>

<p><code>function (request, response) { }</code></p>

<p> <code>request</code> is an instance of <code>http.ServerRequest</code> and <code>response</code> is
 an instance of <code>http.ServerResponse</code></p>

<h3 id="event_connection_">Event: 'connection'</h3>

<p><code>function (stream) { }</code></p>

<p> When a new TCP stream is established. <code>stream</code> is an object of type
 <code>net.Stream</code>. Usually users will not want to access this event. The
 <code>stream</code> can also be accessed at <code>request.connection</code>.</p>

<h3 id="event_close_">Event: 'close'</h3>

<p><code>function (errno) { }</code></p>

<p> Emitted when the server closes. </p>

<h3 id="event_request_">Event: 'request'</h3>

<p><code>function (request, response) {}</code></p>

<p>Emitted each time there is request. Note that there may be multiple requests
per connection (in the case of keep-alive connections).</p>

<h3 id="event_checkContinue_">Event: 'checkContinue'</h3>

<p><code>function (request, response) {}</code></p>

<p>Emitted each time a request with an http Expect: 100-continue is received.
If this event isn't listened for, the server will automatically respond
with a 100 Continue as appropriate.</p>

<p>Handling this event involves calling <code>response.writeContinue</code> if the client
should continue to send the request body, or generating an appropriate HTTP
response (e.g., 400 Bad Request) if the client should not continue to send the
request body.</p>

<p>Note that when this event is emitted and handled, the <code>request</code> event will
not be emitted.</p>

<h3 id="event_upgrade_">Event: 'upgrade'</h3>

<p><code>function (request, socket, head)</code></p>

<p>Emitted each time a client requests a http upgrade. If this event isn't
listened for, then clients requesting an upgrade will have their connections
closed.</p>

<ul><li><code>request</code> is the arguments for the http request, as it is in the request event.</li><li><code>socket</code> is the network socket between the server and client.</li><li><code>head</code> is an instance of Buffer, the first packet of the upgraded stream, this may be empty.</li></ul>

<p>After this event is emitted, the request's socket will not have a <code>data</code>
event listener, meaning you will need to bind to it in order to handle data
sent to the server on that socket.</p>

<h3 id="event_clientError_">Event: 'clientError'</h3>

<p><code>function (exception) {}</code></p>

<p>If a client connection emits an 'error' event - it will forwarded here.</p>

<h3 id="http.createServer">http.createServer(requestListener)</h3>

<p>Returns a new web server object.</p>

<p>The <code>requestListener</code> is a function which is automatically
added to the <code>'request'</code> event.</p>

<h3 id="server.listen">server.listen(port, [hostname], [callback])</h3>

<p>Begin accepting connections on the specified port and hostname.  If the
hostname is omitted, the server will accept connections directed to any
IPv4 address (<code>INADDR_ANY</code>).</p>

<p>To listen to a unix socket, supply a filename instead of port and hostname.</p>

<p>This function is asynchronous. The last parameter <code>callback</code> will be called
when the server has been bound to the port.</p>

<h3 id="server.listen">server.listen(path, [callback])</h3>

<p>Start a UNIX socket server listening for connections on the given <code>path</code>.</p>

<p>This function is asynchronous. The last parameter <code>callback</code> will be called
when the server has been bound.</p>

<h3 id="server.setSecure">server.setSecure(credentials)</h3>

<p>Enables HTTPS support for the server, with the crypto module credentials specifying the private key and certificate of the server, and optionally the CA certificates for use in client authentication.</p>

<p>If the credentials hold one or more CA certificates, then the server will request for the client to submit a client certificate as part of the HTTPS connection handshake. The validity and content of this can be accessed via verifyPeer() and getPeerCertificate() from the server's request.connection.</p>

<h3 id="server.close">server.close()</h3>

<p>Stops the server from accepting new connections.</p>

<h2 id="http.ServerRequest">http.ServerRequest</h2>

<p>This object is created internally by a HTTP server--not by
the user--and passed as the first argument to a <code>'request'</code> listener.</p>

<p>This is an <code>EventEmitter</code> with the following events:</p>

<h3 id="event_data_">Event: 'data'</h3>

<p><code>function (chunk) { }</code></p>

<p>Emitted when a piece of the message body is received.</p>

<p>Example: A chunk of the body is given as the single
argument. The transfer-encoding has been decoded.  The
body chunk is a string.  The body encoding is set with
<code>request.setBodyEncoding()</code>.</p>

<h3 id="event_end_">Event: 'end'</h3>

<p><code>function () { }</code></p>

<p>Emitted exactly once for each message. No arguments.  After
emitted no other events will be emitted on the request.</p>

<h3 id="request.method">request.method</h3>

<p>The request method as a string. Read only. Example:
<code>'GET'</code>, <code>'DELETE'</code>.</p>

<h3 id="request.url">request.url</h3>

<p>Request URL string. This contains only the URL that is
present in the actual HTTP request. If the request is:</p>

<pre class="sh_sourceCode"><code><span class="sh_normal">GET </span><span class="sh_symbol">/</span>status<span class="sh_symbol">?</span>name<span class="sh_symbol">=</span>ryan <span class="sh_normal">HTTP</span><span class="sh_symbol">/</span><span class="sh_number">1.1</span><span class="sh_symbol">\</span>r<span class="sh_symbol">\</span>n
Accept<span class="sh_symbol">:</span> <span class="sh_normal">text</span><span class="sh_symbol">/</span>plain<span class="sh_symbol">\</span>r<span class="sh_symbol">\</span>n
<span class="sh_symbol">\</span>r<span class="sh_symbol">\</span>n</code></pre>

<p>Then <code>request.url</code> will be:</p>

<pre class="sh_sourceCode"><code><span class="sh_string">'/status?name=ryan'</span></code></pre>

<p>If you would like to parse the URL into its parts, you can use
<code>require('url').parse(request.url)</code>.  Example:</p>

<pre class="sh_sourceCode"><code>node<span class="sh_symbol">&gt;</span> <span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">'url'</span><span class="sh_symbol">).</span><span class="sh_function">parse</span><span class="sh_symbol">(</span><span class="sh_string">'/status?name=ryan'</span><span class="sh_symbol">)</span>
<span class="sh_cbracket">{</span> href<span class="sh_symbol">:</span> <span class="sh_string">'/status?name=ryan'</span>
<span class="sh_symbol">,</span> search<span class="sh_symbol">:</span> <span class="sh_string">'?name=ryan'</span>
<span class="sh_symbol">,</span> query<span class="sh_symbol">:</span> <span class="sh_string">'name=ryan'</span>
<span class="sh_symbol">,</span> pathname<span class="sh_symbol">:</span> <span class="sh_string">'/status'</span>
<span class="sh_cbracket">}</span></code></pre>

<p>If you would like to extract the params from the query string,
you can use the <code>require('querystring').parse</code> function, or pass
<code>true</code> as the second argument to <code>require('url').parse</code>.  Example:</p>

<pre class="sh_sourceCode"><code>node<span class="sh_symbol">&gt;</span> <span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">'url'</span><span class="sh_symbol">).</span><span class="sh_function">parse</span><span class="sh_symbol">(</span><span class="sh_string">'/status?name=ryan'</span><span class="sh_symbol">,</span> <span class="sh_keyword">true</span><span class="sh_symbol">)</span>
<span class="sh_cbracket">{</span> href<span class="sh_symbol">:</span> <span class="sh_string">'/status?name=ryan'</span>
<span class="sh_symbol">,</span> search<span class="sh_symbol">:</span> <span class="sh_string">'?name=ryan'</span>
<span class="sh_symbol">,</span> query<span class="sh_symbol">:</span> <span class="sh_cbracket">{</span> name<span class="sh_symbol">:</span> <span class="sh_string">'ryan'</span> <span class="sh_cbracket">}</span>
<span class="sh_symbol">,</span> pathname<span class="sh_symbol">:</span> <span class="sh_string">'/status'</span>
<span class="sh_cbracket">}</span></code></pre>

<h3 id="request.headers">request.headers</h3>

<p>Read only.</p>

<h3 id="request.trailers">request.trailers</h3>

<p>Read only; HTTP trailers (if present). Only populated after the 'end' event.</p>

<h3 id="request.httpVersion">request.httpVersion</h3>

<p>The HTTP protocol version as a string. Read only. Examples:
<code>'1.1'</code>, <code>'1.0'</code>.
Also <code>request.httpVersionMajor</code> is the first integer and
<code>request.httpVersionMinor</code> is the second.</p>

<h3 id="request.setEncoding">request.setEncoding(encoding=null)</h3>

<p>Set the encoding for the request body. Either <code>'utf8'</code> or <code>'binary'</code>. Defaults
to <code>null</code>, which means that the <code>'data'</code> event will emit a <code>Buffer</code> object..</p>

<h3 id="request.pause">request.pause()</h3>

<p>Pauses request from emitting events.  Useful to throttle back an upload.</p>

<h3 id="request.resume">request.resume()</h3>

<p>Resumes a paused request.</p>

<h3 id="request.connection">request.connection</h3>

<p>The <code>net.Stream</code> object associated with the connection.</p>

<p>With HTTPS support, use request.connection.verifyPeer() and
request.connection.getPeerCertificate() to obtain the client's
authentication details.</p>

<h2 id="http.ServerResponse">http.ServerResponse</h2>

<p>This object is created internally by a HTTP server--not by the user. It is
passed as the second parameter to the <code>'request'</code> event. It is a <code>Writable Stream</code>.</p>

<h3 id="response.writeContinue">response.writeContinue()</h3>

<p>Sends a HTTP/1.1 100 Continue message to the client, indicating that
the request body should be sent. See the the <code>checkContinue</code> event on
<code>Server</code>.</p>

<h3 id="response.writeHead">response.writeHead(statusCode, [reasonPhrase], [headers])</h3>

<p>Sends a response header to the request. The status code is a 3-digit HTTP
status code, like <code>404</code>. The last argument, <code>headers</code>, are the response headers.
Optionally one can give a human-readable <code>reasonPhrase</code> as the second
argument.</p>

<p>Example:</p>

<pre class="sh_sourceCode"><code><span class="sh_keyword">var</span> body <span class="sh_symbol">=</span> <span class="sh_string">'hello world'</span><span class="sh_symbol">;</span>
response<span class="sh_symbol">.</span><span class="sh_function">writeHead</span><span class="sh_symbol">(</span><span class="sh_number">200</span><span class="sh_symbol">,</span> <span class="sh_cbracket">{</span>
  <span class="sh_string">'Content-Length'</span><span class="sh_symbol">:</span> body<span class="sh_symbol">.</span>length<span class="sh_symbol">,</span>
  <span class="sh_string">'Content-Type'</span><span class="sh_symbol">:</span> <span class="sh_string">'text/plain'</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">);</span></code></pre>

<p>This method must only be called once on a message and it must
be called before <code>response.end()</code> is called.</p>

<h3 id="response.write">response.write(chunk, encoding='utf8')</h3>

<p>This method must be called after <code>writeHead</code> was
called. It sends a chunk of the response body. This method may
be called multiple times to provide successive parts of the body.</p>

<p><code>chunk</code> can be a string or a buffer. If <code>chunk</code> is a string,
the second parameter specifies how to encode it into a byte stream.
By default the <code>encoding</code> is <code>'utf8'</code>.</p>

<p><strong>Note</strong>: This is the raw HTTP body and has nothing to do with
higher-level multi-part body encodings that may be used.</p>

<p>The first time <code>response.write()</code> is called, it will send the buffered
header information and the first body to the client. The second time
<code>response.write()</code> is called, Node assumes you're going to be streaming
data, and sends that separately. That is, the response is buffered up to the
first chunk of body.</p>

<h3 id="response.addTrailers">response.addTrailers(headers)</h3>

<p>This method adds HTTP trailing headers (a header but at the end of the
message) to the response. </p>

<p>Trailers will <strong>only</strong> be emitted if chunked encoding is used for the 
response; if it is not (e.g., if the request was HTTP/1.0), they will
be silently discarded.</p>

<p>Note that HTTP requires the <code>Trailer</code> header to be sent if you intend to
emit trailers, with a list of the header fields in its value. E.g.,</p>

<pre class="sh_sourceCode"><code>response<span class="sh_symbol">.</span><span class="sh_function">writeHead</span><span class="sh_symbol">(</span><span class="sh_number">200</span><span class="sh_symbol">,</span> <span class="sh_cbracket">{</span> <span class="sh_string">'Content-Type'</span><span class="sh_symbol">:</span> <span class="sh_string">'text/plain'</span><span class="sh_symbol">,</span>
                          <span class="sh_string">'Trailer'</span><span class="sh_symbol">:</span> <span class="sh_string">'TraceInfo'</span> <span class="sh_cbracket">}</span><span class="sh_symbol">);</span>
response<span class="sh_symbol">.</span><span class="sh_function">write</span><span class="sh_symbol">(</span>fileData<span class="sh_symbol">);</span>
response<span class="sh_symbol">.</span><span class="sh_function">addTrailers</span><span class="sh_symbol">(</span><span class="sh_cbracket">{</span><span class="sh_string">'Content-MD5'</span><span class="sh_symbol">:</span> <span class="sh_string">"7895bf4b8828b55ceaf47747b4bca667"</span><span class="sh_cbracket">}</span><span class="sh_symbol">);</span>
response<span class="sh_symbol">.</span><span class="sh_function">end</span><span class="sh_symbol">();</span></code></pre>

<h3 id="response.end">response.end([data], [encoding])</h3>

<p>This method signals to the server that all of the response headers and body
has been sent; that server should consider this message complete.
The method, <code>response.end()</code>, MUST be called on each
response.</p>

<p>If <code>data</code> is specified, it is equivalent to calling <code>response.write(data, encoding)</code>
followed by <code>response.end()</code>.</p>

<h2 id="http.Client">http.Client</h2>

<p>An HTTP client is constructed with a server address as its
argument, the returned handle is then used to issue one or more
requests.  Depending on the server connected to, the client might
pipeline the requests or reestablish the stream after each
stream. <em>Currently the implementation does not pipeline requests.</em></p>

<p>Example of connecting to <code>google.com</code>:</p>

<pre class="sh_sourceCode"><code><span class="sh_keyword">var</span> http <span class="sh_symbol">=</span> <span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">'http'</span><span class="sh_symbol">);</span>
<span class="sh_keyword">var</span> google <span class="sh_symbol">=</span> http<span class="sh_symbol">.</span><span class="sh_function">createClient</span><span class="sh_symbol">(</span><span class="sh_number">80</span><span class="sh_symbol">,</span> <span class="sh_string">'www.google.com'</span><span class="sh_symbol">);</span>
<span class="sh_keyword">var</span> request <span class="sh_symbol">=</span> google<span class="sh_symbol">.</span><span class="sh_function">request</span><span class="sh_symbol">(</span><span class="sh_string">'GET'</span><span class="sh_symbol">,</span> <span class="sh_string">'/'</span><span class="sh_symbol">,</span>
  <span class="sh_cbracket">{</span><span class="sh_string">'host'</span><span class="sh_symbol">:</span> <span class="sh_string">'www.google.com'</span><span class="sh_cbracket">}</span><span class="sh_symbol">);</span>
request<span class="sh_symbol">.</span><span class="sh_function">end</span><span class="sh_symbol">();</span>
request<span class="sh_symbol">.</span><span class="sh_function">on</span><span class="sh_symbol">(</span><span class="sh_string">'response'</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">(</span>response<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
  console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'STATUS: '</span> <span class="sh_symbol">+</span> response<span class="sh_symbol">.</span>statusCode<span class="sh_symbol">);</span>
  console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'HEADERS: '</span> <span class="sh_symbol">+</span> JSON<span class="sh_symbol">.</span><span class="sh_function">stringify</span><span class="sh_symbol">(</span>response<span class="sh_symbol">.</span>headers<span class="sh_symbol">));</span>
  response<span class="sh_symbol">.</span><span class="sh_function">setEncoding</span><span class="sh_symbol">(</span><span class="sh_string">'utf8'</span><span class="sh_symbol">);</span>
  response<span class="sh_symbol">.</span><span class="sh_function">on</span><span class="sh_symbol">(</span><span class="sh_string">'data'</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">(</span>chunk<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
    console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'BODY: '</span> <span class="sh_symbol">+</span> chunk<span class="sh_symbol">);</span>
  <span class="sh_cbracket">}</span><span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">);</span></code></pre>

<p>There are a few special headers that should be noted.</p>

<ul><li><p>The 'Host' header is not added by Node, and is usually required by
website.</p></li><li><p>Sending a 'Connection: keep-alive' will notify Node that the connection to
the server should be persisted until the next request.</p></li><li><p>Sending a 'Content-length' header will disable the default chunked encoding.</p></li><li><p>Sending an 'Expect' header will immediately send the request headers. 
Usually, when sending 'Expect: 100-continue', you should both set a timeout
and listen for the <code>continue</code> event. See RFC2616 Section 8.2.3 for more
information.</p></li></ul>

<h3 id="event_upgrade_">Event: 'upgrade'</h3>

<p><code>function (request, socket, head)</code></p>

<p>Emitted each time a server responds to a request with an upgrade. If this event
isn't being listened for, clients receiving an upgrade header will have their
connections closed.</p>

<p>See the description of the <code>upgrade</code> event for <code>http.Server</code> for further details.</p>

<h3 id="event_continue_">Event: 'continue'</h3>

<p><code>function ()</code></p>

<p>Emitted when the server sends a '100 Continue' HTTP response, usually because
the request contained 'Expect: 100-continue'. This is an instruction that
the client should send the request body.</p>

<h3 id="http.createClient">http.createClient(port, host='localhost', secure=false, [credentials])</h3>

<p>Constructs a new HTTP client. <code>port</code> and
<code>host</code> refer to the server to be connected to. A
stream is not established until a request is issued.</p>

<p><code>secure</code> is an optional boolean flag to enable https support and <code>credentials</code> is an optional credentials object from the crypto module, which may hold the client's private key, certificate, and a list of trusted CA certificates.</p>

<p>If the connection is secure, but no explicit CA certificates are passed in the credentials, then node.js will default to the publicly trusted list of CA certificates, as given in http://mxr.mozilla.org/mozilla/source/security/nss/lib/ckfw/builtins/certdata.txt</p>

<h3 id="client.request">client.request(method='GET', path, [request_headers])</h3>

<p>Issues a request; if necessary establishes stream. Returns a <code>http.ClientRequest</code> instance.</p>

<p><code>method</code> is optional and defaults to 'GET' if omitted.</p>

<p><code>request_headers</code> is optional.
Additional request headers might be added internally
by Node. Returns a <code>ClientRequest</code> object.</p>

<p>Do remember to include the <code>Content-Length</code> header if you
plan on sending a body. If you plan on streaming the body, perhaps
set <code>Transfer-Encoding: chunked</code>.</p>

<p><em>NOTE</em>: the request is not complete. This method only sends the header of
the request. One needs to call <code>request.end()</code> to finalize the request and
retrieve the response.  (This sounds convoluted but it provides a chance for
the user to stream a body to the server with <code>request.write()</code>.)</p>

<h3 id="client.verifyPeer">client.verifyPeer()</h3>

<p>Returns true or false depending on the validity of the server's certificate in the context of the defined or default list of trusted CA certificates.</p>

<h3 id="client.getPeerCertificate">client.getPeerCertificate()</h3>

<p>Returns a JSON structure detailing the server's certificate, containing a dictionary with keys for the certificate 'subject', 'issuer', 'valid_from' and 'valid_to'</p>

<h2 id="http.ClientRequest">http.ClientRequest</h2>

<p>This object is created internally and returned from the <code>request()</code> method
of a <code>http.Client</code>. It represents an <em>in-progress</em> request whose header has
already been sent.</p>

<p>To get the response, add a listener for <code>'response'</code> to the request object.
<code>'response'</code> will be emitted from the request object when the response
headers have been received.  The <code>'response'</code> event is executed with one
argument which is an instance of <code>http.ClientResponse</code>.</p>

<p>During the <code>'response'</code> event, one can add listeners to the
response object; particularly to listen for the <code>'data'</code> event. Note that
the <code>'response'</code> event is called before any part of the response body is received,
so there is no need to worry about racing to catch the first part of the
body. As long as a listener for <code>'data'</code> is added during the <code>'response'</code>
event, the entire body will be caught.</p>

<pre class="sh_sourceCode"><code><span class="sh_comment">// Good</span>
request<span class="sh_symbol">.</span><span class="sh_function">on</span><span class="sh_symbol">(</span><span class="sh_string">'response'</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">(</span>response<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
  response<span class="sh_symbol">.</span><span class="sh_function">on</span><span class="sh_symbol">(</span><span class="sh_string">'data'</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">(</span>chunk<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
    console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'BODY: '</span> <span class="sh_symbol">+</span> chunk<span class="sh_symbol">);</span>
  <span class="sh_cbracket">}</span><span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">);</span>

<span class="sh_comment">// Bad - misses all or part of the body</span>
request<span class="sh_symbol">.</span><span class="sh_function">on</span><span class="sh_symbol">(</span><span class="sh_string">'response'</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">(</span>response<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
  <span class="sh_function">setTimeout</span><span class="sh_symbol">(</span><span class="sh_keyword">function</span> <span class="sh_symbol">()</span> <span class="sh_cbracket">{</span>
    response<span class="sh_symbol">.</span><span class="sh_function">on</span><span class="sh_symbol">(</span><span class="sh_string">'data'</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">(</span>chunk<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
      console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'BODY: '</span> <span class="sh_symbol">+</span> chunk<span class="sh_symbol">);</span>
    <span class="sh_cbracket">}</span><span class="sh_symbol">);</span>
  <span class="sh_cbracket">}</span><span class="sh_symbol">,</span> <span class="sh_number">10</span><span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">);</span></code></pre>

<p>This is a <code>Writable Stream</code>.</p>

<p>This is an <code>EventEmitter</code> with the following events:</p>

<h3 id="event_response_">Event 'response'</h3>

<p><code>function (response) { }</code></p>

<p>Emitted when a response is received to this request. This event is emitted only once. The
<code>response</code> argument will be an instance of <code>http.ClientResponse</code>.</p>

<h3 id="request.write">request.write(chunk, encoding='utf8')</h3>

<p>Sends a chunk of the body.  By calling this method
many times, the user can stream a request body to a
server--in that case it is suggested to use the
<code>['Transfer-Encoding', 'chunked']</code> header line when
creating the request.</p>

<p>The <code>chunk</code> argument should be an array of integers
or a string.</p>

<p>The <code>encoding</code> argument is optional and only
applies when <code>chunk</code> is a string.</p>

<h3 id="request.end">request.end([data], [encoding])</h3>

<p>Finishes sending the request. If any parts of the body are
unsent, it will flush them to the stream. If the request is
chunked, this will send the terminating <code>'0\r\n\r\n'</code>.</p>

<p>If <code>data</code> is specified, it is equivalent to calling <code>request.write(data, encoding)</code>
followed by <code>request.end()</code>.</p>

<h2 id="http.ClientResponse">http.ClientResponse</h2>

<p>This object is created when making a request with <code>http.Client</code>. It is
passed to the <code>'response'</code> event of the request object.</p>

<p>The response implements the <code>Readable Stream</code> interface.</p>

<h3 id="event_data_">Event: 'data'</h3>

<p><code>function (chunk) {}</code></p>

<p>Emitted when a piece of the message body is received.</p>

<pre class="sh_sourceCode"><code>Example<span class="sh_symbol">:</span> A chunk of the body is given as the single
argument<span class="sh_symbol">.</span> The transfer<span class="sh_symbol">-</span>encoding has been decoded<span class="sh_symbol">.</span>  The
body chunk a <span class="sh_predef_func">String</span><span class="sh_symbol">.</span>  The body encoding is set <span class="sh_keyword">with</span>
`response<span class="sh_symbol">.</span><span class="sh_function">setBodyEncoding</span><span class="sh_symbol">()</span>`<span class="sh_symbol">.</span></code></pre>

<h3 id="event_end_">Event: 'end'</h3>

<p><code>function () {}</code></p>

<p>Emitted exactly once for each message. No arguments. After
emitted no other events will be emitted on the response.</p>

<h3 id="response.statusCode">response.statusCode</h3>

<p>The 3-digit HTTP response status code. E.G. <code>404</code>.</p>

<h3 id="response.httpVersion">response.httpVersion</h3>

<p>The HTTP version of the connected-to server. Probably either
<code>'1.1'</code> or <code>'1.0'</code>.
Also <code>response.httpVersionMajor</code> is the first integer and
<code>response.httpVersionMinor</code> is the second.</p>

<h3 id="response.headers">response.headers</h3>

<p>The response headers object.</p>

<h3 id="response.trailers">response.trailers</h3>

<p>The response trailers object. Only populated after the 'end' event.</p>

<h3 id="response.setEncoding">response.setEncoding(encoding=null)</h3>

<p>Set the encoding for the response body. Either <code>'utf8'</code>, <code>'ascii'</code>, or <code>'base64'</code>.
Defaults to <code>null</code>, which means that the <code>'data'</code> event will emit a <code>Buffer</code> object..</p>

<h3 id="response.pause">response.pause()</h3>

<p>Pauses response from emitting events.  Useful to throttle back a download.</p>

<h3 id="response.resume">response.resume()</h3>

<p>Resumes a paused response.</p>

<h3 id="response.client">response.client</h3>

<p>A reference to the <code>http.Client</code> that this response belongs to.</p>

<h2 id="uRL">URL</h2>

<p>This module has utilities for URL resolution and parsing.
Call <code>require('url')</code> to use it.</p>

<p>Parsed URL objects have some or all of the following fields, depending on
whether or not they exist in the URL string. Any parts that are not in the URL
string will not be in the parsed object. Examples are shown for the URL</p>

<p><code>'http://user:pass@host.com:8080/p/a/t/h?query=string#hash'</code></p>

<ul><li><p><code>href</code>: The full URL that was originally parsed. </p><p>Example: <code>'http://user:pass@host.com:8080/p/a/t/h?query=string#hash'</code></p></li><li><p><code>protocol</code>: The request protocol.</p><p>Example: <code>'http:'</code></p></li><li><p><code>host</code>: The full host portion of the URL, including port and authentication information. </p><p>Example: <code>'user:pass@host.com:8080'</code></p></li><li><p><code>auth</code>: The authentication information portion of a URL.</p><p>Example: <code>'user:pass'</code></p></li><li><p><code>hostname</code>: Just the hostname portion of the host.</p><p>Example: <code>'host.com'</code></p></li><li><p><code>port</code>: The port number portion of the host.</p><p>Example: <code>'8080'</code></p></li><li><p><code>pathname</code>: The path section of the URL, that comes after the host and before the query, including the initial slash if present.</p><p>Example: <code>'/p/a/t/h'</code></p></li><li><p><code>search</code>: The 'query string' portion of the URL, including the leading question mark.</p><p>Example: <code>'?query=string'</code></p></li><li><p><code>query</code>: Either the 'params' portion of the query string, or a querystring-parsed object.</p><p>Example: <code>'query=string'</code> or <code>{'query':'string'}</code></p></li><li><p><code>hash</code>: The 'fragment' portion of the URL including the pound-sign.</p><p>Example: <code>'#hash'</code></p></li></ul>

<p>The following methods are provided by the URL module:</p>

<h3 id="url.parse">url.parse(urlStr, parseQueryString=false)</h3>

<p>Take a URL string, and return an object.  Pass <code>true</code> as the second argument to also parse
the query string using the <code>querystring</code> module.</p>

<h3 id="url.format">url.format(urlObj)</h3>

<p>Take a parsed URL object, and return a formatted URL string.</p>

<h3 id="url.resolve">url.resolve(from, to)</h3>

<p>Take a base URL, and a href URL, and resolve them as a browser would for an anchor tag.</p>

<h2 id="query_String">Query String</h2>

<p>This module provides utilities for dealing with query strings.  It provides the following methods:</p>

<h3 id="querystring.stringify">querystring.stringify(obj, sep='&amp;', eq='=')</h3>

<p>Serialize an object to a query string.  Optionally override the default separator and assignment characters.</p>

<p>Example:</p>

<pre class="sh_sourceCode"><code>querystring<span class="sh_symbol">.</span><span class="sh_function">stringify</span><span class="sh_symbol">(</span><span class="sh_cbracket">{</span>foo<span class="sh_symbol">:</span> <span class="sh_string">'bar'</span><span class="sh_cbracket">}</span><span class="sh_symbol">)</span>
<span class="sh_comment">// returns</span>
<span class="sh_string">'foo=bar'</span>

querystring<span class="sh_symbol">.</span><span class="sh_function">stringify</span><span class="sh_symbol">(</span><span class="sh_cbracket">{</span>foo<span class="sh_symbol">:</span> <span class="sh_string">'bar'</span><span class="sh_symbol">,</span> baz<span class="sh_symbol">:</span> <span class="sh_string">'bob'</span><span class="sh_cbracket">}</span><span class="sh_symbol">,</span> <span class="sh_string">';'</span><span class="sh_symbol">,</span> <span class="sh_string">':'</span><span class="sh_symbol">)</span>
<span class="sh_comment">// returns</span>
<span class="sh_string">'foo:bar;baz:bob'</span></code></pre>

<h3 id="querystring.parse">querystring.parse(str, sep='&amp;', eq='=')</h3>

<p>Deserialize a query string to an object.  Optionally override the default separator and assignment characters.</p>

<p>Example:</p>

<pre class="sh_sourceCode"><code>querystring<span class="sh_symbol">.</span><span class="sh_function">parse</span><span class="sh_symbol">(</span><span class="sh_string">'a=b&amp;b=c'</span><span class="sh_symbol">)</span>
<span class="sh_comment">// returns</span>
<span class="sh_cbracket">{</span> <span class="sh_string">'a'</span><span class="sh_symbol">:</span> <span class="sh_string">'b'</span>
<span class="sh_symbol">,</span> <span class="sh_string">'b'</span><span class="sh_symbol">:</span> <span class="sh_string">'c'</span>
<span class="sh_cbracket">}</span></code></pre>

<h3 id="querystring.escape">querystring.escape</h3>

<p>The escape function used by <code>querystring.stringify</code>, provided so that it could be overridden if necessary.</p>

<h3 id="querystring.unescape">querystring.unescape</h3>

<p>The unescape function used by <code>querystring.parse</code>, provided so that it could be overridden if necessary.</p>

<h2 id="rEPL">REPL</h2>

<p>A Read-Eval-Print-Loop (REPL) is available both as a standalone program and easily
includable in other programs.  REPL provides a way to interactively run
JavaScript and see the results.  It can be used for debugging, testing, or
just trying things out.</p>

<p>By executing <code>node</code> without any arguments from the command-line you will be
dropped into the REPL. It has simplistic emacs line-editing.</p>

<pre class="sh_sourceCode"><code>mjr<span class="sh_symbol">:~</span>$ node
Type <span class="sh_string">'.help'</span> <span class="sh_keyword">for</span> options<span class="sh_symbol">.</span>
node<span class="sh_symbol">&gt;</span> a <span class="sh_symbol">=</span> <span class="sh_symbol">[</span> <span class="sh_number">1</span><span class="sh_symbol">,</span> <span class="sh_number">2</span><span class="sh_symbol">,</span> <span class="sh_number">3</span><span class="sh_symbol">];</span>
<span class="sh_symbol">[</span> <span class="sh_number">1</span><span class="sh_symbol">,</span> <span class="sh_number">2</span><span class="sh_symbol">,</span> <span class="sh_number">3</span> <span class="sh_symbol">]</span>
node<span class="sh_symbol">&gt;</span> a<span class="sh_symbol">.</span><span class="sh_function">forEach</span><span class="sh_symbol">(</span><span class="sh_keyword">function</span> <span class="sh_symbol">(</span>v<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
<span class="sh_symbol">...</span>   console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span>v<span class="sh_symbol">);</span>
<span class="sh_symbol">...</span>   <span class="sh_cbracket">}</span><span class="sh_symbol">);</span>
<span class="sh_number">1</span>
<span class="sh_number">2</span>
<span class="sh_number">3</span></code></pre>

<p>For advanced line-editors, start node with the environmental variable <code>NODE_NO_READLINE=1</code>.
This will start the REPL in canonical terminal settings which will allow you to use with <code>rlwrap</code>.</p>

<p>For example, you could add this to your bashrc file:</p>

<pre class="sh_sourceCode"><code>alias node<span class="sh_symbol">=</span><span class="sh_string">"env NODE_NO_READLINE=1 rlwrap node"</span></code></pre>

<h3 id="repl.start_">repl.start(prompt='node&gt; ', stream=process.openStdin())</h3>

<p>Starts a REPL with <code>prompt</code> as the prompt and <code>stream</code> for all I/O.  <code>prompt</code>
is optional and defaults to <code>node&gt; </code>.  <code>stream</code> is optional and defaults to 
<code>process.openStdin()</code>.</p>

<p>Multiple REPLs may be started against the same running instance of node.  Each
will share the same global object but will have unique I/O.</p>

<p>Here is an example that starts a REPL on stdin, a Unix socket, and a TCP socket:</p>

<pre class="sh_sourceCode"><code><span class="sh_keyword">var</span> net <span class="sh_symbol">=</span> <span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">"net"</span><span class="sh_symbol">),</span>
    repl <span class="sh_symbol">=</span> <span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">"repl"</span><span class="sh_symbol">);</span>

connections <span class="sh_symbol">=</span> <span class="sh_number">0</span><span class="sh_symbol">;</span>

repl<span class="sh_symbol">.</span><span class="sh_function">start</span><span class="sh_symbol">(</span><span class="sh_string">"node via stdin&gt; "</span><span class="sh_symbol">);</span>

net<span class="sh_symbol">.</span><span class="sh_function">createServer</span><span class="sh_symbol">(</span><span class="sh_keyword">function</span> <span class="sh_symbol">(</span>socket<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
  connections <span class="sh_symbol">+=</span> <span class="sh_number">1</span><span class="sh_symbol">;</span>
  repl<span class="sh_symbol">.</span><span class="sh_function">start</span><span class="sh_symbol">(</span><span class="sh_string">"node via Unix socket&gt; "</span><span class="sh_symbol">,</span> socket<span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">).</span><span class="sh_function">listen</span><span class="sh_symbol">(</span><span class="sh_string">"/tmp/node-repl-sock"</span><span class="sh_symbol">);</span>

net<span class="sh_symbol">.</span><span class="sh_function">createServer</span><span class="sh_symbol">(</span><span class="sh_keyword">function</span> <span class="sh_symbol">(</span>socket<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
  connections <span class="sh_symbol">+=</span> <span class="sh_number">1</span><span class="sh_symbol">;</span>
  repl<span class="sh_symbol">.</span><span class="sh_function">start</span><span class="sh_symbol">(</span><span class="sh_string">"node via TCP socket&gt; "</span><span class="sh_symbol">,</span> socket<span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">).</span><span class="sh_function">listen</span><span class="sh_symbol">(</span><span class="sh_number">5001</span><span class="sh_symbol">);</span></code></pre>

<p>Running this program from the command line will start a REPL on stdin.  Other
REPL clients may connect through the Unix socket or TCP socket. <code>telnet</code> is useful
for connecting to TCP sockets, and <code>socat</code> can be used to connect to both Unix and
TCP sockets.</p>

<p>By starting a REPL from a Unix socket-based server instead of stdin, you can 
connect to a long-running node process without restarting it.</p>

<h3 id="rEPL_Features">REPL Features</h3>

<p>Inside the REPL, Control+D will exit.  Multi-line expressions can be input.</p>

<p>The special variable <code>_</code> (underscore) contains the result of the last expression.</p>

<pre class="sh_sourceCode"><code>node<span class="sh_symbol">&gt;</span> <span class="sh_symbol">[</span> <span class="sh_string">"a"</span><span class="sh_symbol">,</span> <span class="sh_string">"b"</span><span class="sh_symbol">,</span> <span class="sh_string">"c"</span> <span class="sh_symbol">]</span>
<span class="sh_symbol">[</span> <span class="sh_string">'a'</span><span class="sh_symbol">,</span> <span class="sh_string">'b'</span><span class="sh_symbol">,</span> <span class="sh_string">'c'</span> <span class="sh_symbol">]</span>
node<span class="sh_symbol">&gt;</span> _<span class="sh_symbol">.</span>length 
<span class="sh_number">3</span>
node<span class="sh_symbol">&gt;</span> _ <span class="sh_symbol">+=</span> <span class="sh_number">1</span>
<span class="sh_number">4</span></code></pre>

<p>The REPL provides access to any variables in the global scope. You can expose a variable 
to the REPL explicitly by assigning it to the <code>context</code> object associated with each
<code>REPLServer</code>.  For example:</p>

<pre class="sh_sourceCode"><code><span class="sh_comment">// repl_test.js</span>
<span class="sh_keyword">var</span> repl <span class="sh_symbol">=</span> <span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">"repl"</span><span class="sh_symbol">),</span>
    msg <span class="sh_symbol">=</span> <span class="sh_string">"message"</span><span class="sh_symbol">;</span>

repl<span class="sh_symbol">.</span><span class="sh_function">start</span><span class="sh_symbol">().</span>context<span class="sh_symbol">.</span>m <span class="sh_symbol">=</span> msg<span class="sh_symbol">;</span></code></pre>

<p>Things in the <code>context</code> object appear as local within the REPL:</p>

<pre class="sh_sourceCode"><code>mjr<span class="sh_symbol">:~</span>$ node repl_test<span class="sh_symbol">.</span>js 
node<span class="sh_symbol">&gt;</span> m
<span class="sh_string">'message'</span></code></pre>

<p>There are a few special REPL commands:</p>

<ul><li><code>.break</code> - While inputting a multi-line expression, sometimes you get lost or just don't care 
about completing it.  <code>.break</code> will start over.</li><li><code>.clear</code> - Resets the <code>context</code> object to an empty object and clears any multi-line expression.</li><li><code>.exit</code> - Close the I/O stream, which will cause the REPL to exit.</li><li><code>.help</code> - Show this list of special commands.</li></ul>

<h2 id="child_Processes">Child Processes</h2>

<p>Node provides a tri-directional <code>popen(3)</code> facility through the <code>ChildProcess</code>
class.</p>

<p>It is possible to stream data through the child's <code>stdin</code>, <code>stdout</code>, and
<code>stderr</code> in a fully non-blocking way.</p>

<p>To create a child process use <code>require('child_process').spawn()</code>.</p>

<p>Child processes always have three streams associated with them. <code>child.stdin</code>,
<code>child.stdout</code>, and <code>child.stderr</code>.</p>

<p><code>ChildProcess</code> is an <code>EventEmitter</code>.</p>

<h3 id="event_exit_">Event:  'exit'</h3>

<p><code>function (code, signal) {}</code></p>

<p>This event is emitted after the child process ends. If the process terminated
normally, <code>code</code> is the final exit code of the process, otherwise <code>null</code>. If
the process terminated due to receipt of a signal, <code>signal</code> is the string name
of the signal, otherwise <code>null</code>.</p>

<p>See <code>waitpid(2)</code>.</p>

<h3 id="child.stdin">child.stdin</h3>

<p>A <code>Writable Stream</code> that represents the child process's <code>stdin</code>.
Closing this stream via <code>end()</code> often causes the child process to terminate.</p>

<h3 id="child.stdout">child.stdout</h3>

<p>A <code>Readable Stream</code> that represents the child process's <code>stdout</code>.</p>

<h3 id="child.stderr">child.stderr</h3>

<p>A <code>Readable Stream</code> that represents the child process's <code>stderr</code>.</p>

<h3 id="child.pid">child.pid</h3>

<p>The PID of the child process.</p>

<p>Example:</p>

<pre class="sh_sourceCode"><code><span class="sh_keyword">var</span> spawn <span class="sh_symbol">=</span> <span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">'child_process'</span><span class="sh_symbol">).</span>spawn<span class="sh_symbol">,</span>
    grep  <span class="sh_symbol">=</span> <span class="sh_function">spawn</span><span class="sh_symbol">(</span><span class="sh_string">'grep'</span><span class="sh_symbol">,</span> <span class="sh_symbol">[</span><span class="sh_string">'ssh'</span><span class="sh_symbol">]);</span>

console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'Spawned child pid: '</span> <span class="sh_symbol">+</span> grep<span class="sh_symbol">.</span>pid<span class="sh_symbol">);</span>
grep<span class="sh_symbol">.</span>stdin<span class="sh_symbol">.</span><span class="sh_function">end</span><span class="sh_symbol">();</span></code></pre>

<h3 id="child_process.spawn">child_process.spawn(command, args=[], [options])</h3>

<p>Launches a new process with the given <code>command</code>, with  command line arguments in <code>args</code>.
If omitted, <code>args</code> defaults to an empty Array.</p>

<p>The third argument is used to specify additional options, which defaults to:</p>

<pre class="sh_sourceCode"><code><span class="sh_cbracket">{</span> cwd<span class="sh_symbol">:</span> <span class="sh_predef_var">undefined</span>
<span class="sh_symbol">,</span> env<span class="sh_symbol">:</span> process<span class="sh_symbol">.</span>env<span class="sh_symbol">,</span>
<span class="sh_symbol">,</span> customFds<span class="sh_symbol">:</span> <span class="sh_symbol">[-</span><span class="sh_number">1</span><span class="sh_symbol">,</span> <span class="sh_symbol">-</span><span class="sh_number">1</span><span class="sh_symbol">,</span> <span class="sh_symbol">-</span><span class="sh_number">1</span><span class="sh_symbol">]</span>
<span class="sh_cbracket">}</span></code></pre>

<p><code>cwd</code> allows you to specify the working directory from which the process is spawned.
Use <code>env</code> to specify environment variables that will be visible to the new process.
With <code>customFds</code> it is possible to hook up the new process' [stdin, stout, stderr] to
existing streams; <code>-1</code> means that a new stream should be created.</p>

<p>Example of running <code>ls -lh /usr</code>, capturing <code>stdout</code>, <code>stderr</code>, and the exit code:</p>

<pre class="sh_sourceCode"><code><span class="sh_keyword">var</span> util   <span class="sh_symbol">=</span> <span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">'util'</span><span class="sh_symbol">),</span>
    spawn <span class="sh_symbol">=</span> <span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">'child_process'</span><span class="sh_symbol">).</span>spawn<span class="sh_symbol">,</span>
    ls    <span class="sh_symbol">=</span> <span class="sh_function">spawn</span><span class="sh_symbol">(</span><span class="sh_string">'ls'</span><span class="sh_symbol">,</span> <span class="sh_symbol">[</span><span class="sh_string">'-lh'</span><span class="sh_symbol">,</span> <span class="sh_string">'/usr'</span><span class="sh_symbol">]);</span>

ls<span class="sh_symbol">.</span>stdout<span class="sh_symbol">.</span><span class="sh_function">on</span><span class="sh_symbol">(</span><span class="sh_string">'data'</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">(</span>data<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
  console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'stdout: '</span> <span class="sh_symbol">+</span> data<span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">);</span>

ls<span class="sh_symbol">.</span>stderr<span class="sh_symbol">.</span><span class="sh_function">on</span><span class="sh_symbol">(</span><span class="sh_string">'data'</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">(</span>data<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
  console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'stderr: '</span> <span class="sh_symbol">+</span> data<span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">);</span>

ls<span class="sh_symbol">.</span><span class="sh_function">on</span><span class="sh_symbol">(</span><span class="sh_string">'exit'</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">(</span>code<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
  console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'child process exited with code '</span> <span class="sh_symbol">+</span> code<span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">);</span></code></pre>

<p>Example: A very elaborate way to run 'ps ax | grep ssh'</p>

<pre class="sh_sourceCode"><code><span class="sh_keyword">var</span> util   <span class="sh_symbol">=</span> <span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">'util'</span><span class="sh_symbol">),</span>
    spawn <span class="sh_symbol">=</span> <span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">'child_process'</span><span class="sh_symbol">).</span>spawn<span class="sh_symbol">,</span>
    ps    <span class="sh_symbol">=</span> <span class="sh_function">spawn</span><span class="sh_symbol">(</span><span class="sh_string">'ps'</span><span class="sh_symbol">,</span> <span class="sh_symbol">[</span><span class="sh_string">'ax'</span><span class="sh_symbol">]),</span>
    grep  <span class="sh_symbol">=</span> <span class="sh_function">spawn</span><span class="sh_symbol">(</span><span class="sh_string">'grep'</span><span class="sh_symbol">,</span> <span class="sh_symbol">[</span><span class="sh_string">'ssh'</span><span class="sh_symbol">]);</span>

ps<span class="sh_symbol">.</span>stdout<span class="sh_symbol">.</span><span class="sh_function">on</span><span class="sh_symbol">(</span><span class="sh_string">'data'</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">(</span>data<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
  grep<span class="sh_symbol">.</span>stdin<span class="sh_symbol">.</span><span class="sh_function">write</span><span class="sh_symbol">(</span>data<span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">);</span>

ps<span class="sh_symbol">.</span>stderr<span class="sh_symbol">.</span><span class="sh_function">on</span><span class="sh_symbol">(</span><span class="sh_string">'data'</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">(</span>data<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
  console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'ps stderr: '</span> <span class="sh_symbol">+</span> data<span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">);</span>

ps<span class="sh_symbol">.</span><span class="sh_function">on</span><span class="sh_symbol">(</span><span class="sh_string">'exit'</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">(</span>code<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
  <span class="sh_keyword">if</span> <span class="sh_symbol">(</span>code <span class="sh_symbol">!==</span> <span class="sh_number">0</span><span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
    console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'ps process exited with code '</span> <span class="sh_symbol">+</span> code<span class="sh_symbol">);</span>
  <span class="sh_cbracket">}</span>
  grep<span class="sh_symbol">.</span>stdin<span class="sh_symbol">.</span><span class="sh_function">end</span><span class="sh_symbol">();</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">);</span>

grep<span class="sh_symbol">.</span>stdout<span class="sh_symbol">.</span><span class="sh_function">on</span><span class="sh_symbol">(</span><span class="sh_string">'data'</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">(</span>data<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
  console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span>data<span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">);</span>

grep<span class="sh_symbol">.</span>stderr<span class="sh_symbol">.</span><span class="sh_function">on</span><span class="sh_symbol">(</span><span class="sh_string">'data'</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">(</span>data<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
  console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'grep stderr: '</span> <span class="sh_symbol">+</span> data<span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">);</span>

grep<span class="sh_symbol">.</span><span class="sh_function">on</span><span class="sh_symbol">(</span><span class="sh_string">'exit'</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">(</span>code<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
  <span class="sh_keyword">if</span> <span class="sh_symbol">(</span>code <span class="sh_symbol">!==</span> <span class="sh_number">0</span><span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
    console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'grep process exited with code '</span> <span class="sh_symbol">+</span> code<span class="sh_symbol">);</span>
  <span class="sh_cbracket">}</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">);</span></code></pre>

<p>Example of checking for failed exec:</p>

<pre class="sh_sourceCode"><code><span class="sh_keyword">var</span> spawn <span class="sh_symbol">=</span> <span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">'child_process'</span><span class="sh_symbol">).</span>spawn<span class="sh_symbol">,</span>
    child <span class="sh_symbol">=</span> <span class="sh_function">spawn</span><span class="sh_symbol">(</span><span class="sh_string">'bad_command'</span><span class="sh_symbol">);</span>

child<span class="sh_symbol">.</span>stderr<span class="sh_symbol">.</span><span class="sh_function">on</span><span class="sh_symbol">(</span><span class="sh_string">'data'</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">(</span>data<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
  <span class="sh_keyword">if</span> <span class="sh_symbol">(</span><span class="sh_regexp">/^execvp\(\)/</span><span class="sh_symbol">.</span><span class="sh_function">test</span><span class="sh_symbol">(</span>data<span class="sh_symbol">.</span><span class="sh_function">asciiSlice</span><span class="sh_symbol">(</span><span class="sh_number">0</span><span class="sh_symbol">,</span>data<span class="sh_symbol">.</span>length<span class="sh_symbol">)))</span> <span class="sh_cbracket">{</span>
    console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'Failed to start child process.'</span><span class="sh_symbol">);</span>
  <span class="sh_cbracket">}</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">);</span></code></pre>

<p>See also: <code>child_process.exec()</code></p>

<h3 id="child_process.exec">child_process.exec(command, [options], callback)</h3>

<p>High-level way to execute a command as a child process, buffer the
output, and return it all in a callback.</p>

<pre class="sh_sourceCode"><code><span class="sh_keyword">var</span> util   <span class="sh_symbol">=</span> <span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">'util'</span><span class="sh_symbol">),</span>
    exec  <span class="sh_symbol">=</span> <span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">'child_process'</span><span class="sh_symbol">).</span>exec<span class="sh_symbol">,</span>
    child<span class="sh_symbol">;</span>

child <span class="sh_symbol">=</span> <span class="sh_function">exec</span><span class="sh_symbol">(</span><span class="sh_string">'cat *.js bad_file | wc -l'</span><span class="sh_symbol">,</span> 
  <span class="sh_keyword">function</span> <span class="sh_symbol">(</span>error<span class="sh_symbol">,</span> stdout<span class="sh_symbol">,</span> stderr<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
    console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'stdout: '</span> <span class="sh_symbol">+</span> stdout<span class="sh_symbol">);</span>
    console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'stderr: '</span> <span class="sh_symbol">+</span> stderr<span class="sh_symbol">);</span>
    <span class="sh_keyword">if</span> <span class="sh_symbol">(</span>error <span class="sh_symbol">!==</span> <span class="sh_keyword">null</span><span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
      console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'exec error: '</span> <span class="sh_symbol">+</span> error<span class="sh_symbol">);</span>
    <span class="sh_cbracket">}</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">);</span></code></pre>

<p>The callback gets the arguments <code>(error, stdout, stderr)</code>. On success, <code>error</code>
will be <code>null</code>.  On error, <code>error</code> will be an instance of <code>Error</code> and <code>err.code</code>
will be the exit code of the child process, and <code>err.signal</code> will be set to the
signal that terminated the process.</p>

<p>There is a second optional argument to specify several options. The default options are</p>

<pre class="sh_sourceCode"><code><span class="sh_cbracket">{</span> encoding<span class="sh_symbol">:</span> <span class="sh_string">'utf8'</span>
<span class="sh_symbol">,</span> timeout<span class="sh_symbol">:</span> <span class="sh_number">0</span>
<span class="sh_symbol">,</span> maxBuffer<span class="sh_symbol">:</span> <span class="sh_number">200</span><span class="sh_symbol">*</span><span class="sh_number">1024</span>
<span class="sh_symbol">,</span> killSignal<span class="sh_symbol">:</span> <span class="sh_string">'SIGTERM'</span>
<span class="sh_symbol">,</span> cwd<span class="sh_symbol">:</span> <span class="sh_keyword">null</span>
<span class="sh_symbol">,</span> env<span class="sh_symbol">:</span> <span class="sh_keyword">null</span>
<span class="sh_cbracket">}</span></code></pre>

<p>If <code>timeout</code> is greater than 0, then it will kill the child process
if it runs longer than <code>timeout</code> milliseconds. The child process is killed with
<code>killSignal</code> (default: <code>'SIGTERM'</code>). <code>maxBuffer</code> specifies the largest
amount of data allowed on stdout or stderr - if this value is exceeded then
the child process is killed.</p>

<h3 id="child.kill">child.kill(signal='SIGTERM')</h3>

<p>Send a signal to the child process. If no argument is given, the process will
be sent <code>'SIGTERM'</code>. See <code>signal(7)</code> for a list of available signals.</p>

<pre class="sh_sourceCode"><code><span class="sh_keyword">var</span> spawn <span class="sh_symbol">=</span> <span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">'child_process'</span><span class="sh_symbol">).</span>spawn<span class="sh_symbol">,</span>
    grep  <span class="sh_symbol">=</span> <span class="sh_function">spawn</span><span class="sh_symbol">(</span><span class="sh_string">'grep'</span><span class="sh_symbol">,</span> <span class="sh_symbol">[</span><span class="sh_string">'ssh'</span><span class="sh_symbol">]);</span>

grep<span class="sh_symbol">.</span><span class="sh_function">on</span><span class="sh_symbol">(</span><span class="sh_string">'exit'</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">(</span>code<span class="sh_symbol">,</span> signal<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
  console<span class="sh_symbol">.</span><span class="sh_function">log</span><span class="sh_symbol">(</span><span class="sh_string">'child process terminated due to receipt of signal '</span><span class="sh_symbol">+</span>signal<span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">);</span>

<span class="sh_comment">// send SIGHUP to process</span>
grep<span class="sh_symbol">.</span><span class="sh_function">kill</span><span class="sh_symbol">(</span><span class="sh_string">'SIGHUP'</span><span class="sh_symbol">);</span></code></pre>

<p>Note that while the function is called <code>kill</code>, the signal delivered to the child
process may not actually kill it.  <code>kill</code> really just sends a signal to a process.</p>

<p>See <code>kill(2)</code></p>

<h2 id="assert">Assert</h2>

<p>This module is used for writing unit tests for your applications, you can
access it with <code>require('assert')</code>.</p>

<h3 id="assert.fail">assert.fail(actual, expected, message, operator)</h3>

<p>Tests if <code>actual</code> is equal to <code>expected</code> using the operator provided.</p>

<h3 id="assert.ok">assert.ok(value, [message])</h3>

<p>Tests if value is a <code>true</code> value, it is equivalent to <code>assert.equal(true, value, message);</code></p>

<h3 id="assert.equal">assert.equal(actual, expected, [message])</h3>

<p>Tests shallow, coercive equality with the equal comparison operator ( <code>==</code> ). </p>

<h3 id="assert.notEqual">assert.notEqual(actual, expected, [message])</h3>

<p>Tests shallow, coercive non-equality with the not equal comparison operator ( <code>!=</code> ).</p>

<h3 id="assert.deepEqual">assert.deepEqual(actual, expected, [message])</h3>

<p>Tests for deep equality.</p>

<h3 id="assert.notDeepEqual">assert.notDeepEqual(actual, expected, [message])</h3>

<p>Tests for any deep inequality. </p>

<h3 id="assert.strictEqual">assert.strictEqual(actual, expected, [message])</h3>

<p>Tests strict equality, as determined by the strict equality operator ( <code>===</code> ) </p>

<h3 id="assert.notStrictEqual">assert.notStrictEqual(actual, expected, [message])</h3>

<p>Tests strict non-equality, as determined by the strict not equal operator ( <code>!==</code> ) </p>

<h3 id="assert.throws">assert.throws(block, [error], [message])</h3>

<p>Expects <code>block</code> to throw an error.</p>

<h3 id="assert.doesNotThrow">assert.doesNotThrow(block, [error], [message])</h3>

<p>Expects <code>block</code> not to throw an error.</p>

<h3 id="assert.ifError">assert.ifError(value)</h3>

<p>Tests if value is not a false value, throws if it is a true value. Useful when testing the first argument, <code>error</code> in callbacks.</p>

<h1>Appendixes</h1>

<h2 id="appendix_1_Third_Party_Modules">Appendix 1 - Third Party Modules</h2>

<p>There are many third party modules for Node. At the time of writing, August
2010, the master repository of modules is
http://github.com/ry/node/wiki/modules[the wiki page].</p>

<p>This appendix is intended as a SMALL guide to new-comers to help them
quickly find what are considered to be quality modules. It is not intended
to be a complete list.  There may be better more complete modules found
elsewhere.</p>

<ul><li><p>Module Installer: <a href="http://github.com/isaacs/npm">npm</a></p></li><li><p>HTTP Middleware: <a href="http://github.com/senchalabs/connect">Connect</a></p></li><li><p>Web Framework: <a href="http://github.com/visionmedia/express">Express</a></p></li><li><p>Web Sockets: <a href="http://github.com/LearnBoost/Socket.IO-node">Socket.IO</a></p></li><li><p>HTML Parsing: <a href="http://github.com/aredridel/html5">HTML5</a></p></li><li><p><a href="http://github.com/agnat/node_mdns">mDNS/Zeroconf/Bonjour</a></p></li><li><p><a href="http://github.com/ry/node-amqp">RabbitMQ, AMQP</a></p></li><li><p><a href="http://github.com/felixge/node-mysql">mysql</a></p></li><li><p>Serialization: <a href="http://github.com/pgriess/node-msgpack">msgpack</a></p></li><li><p>Scraping: <a href="http://github.com/silentrob/Apricot">Apricot</a></p></li><li><p>Debugger: <a href="http://github.com/smtlaissezfaire/ndb">ndb</a> is a CLI debugger
<a href="http://github.com/dannycoates/node-inspector">inspector</a> is a web based
tool.</p></li><li><p><a href="http://github.com/mranney/node_pcap">pcap binding</a></p></li><li><p><a href="http://github.com/mscdex/node-ncurses">ncurses</a></p></li><li><p>Testing/TDD/BDD: <a href="http://vowsjs.org/">vows</a>,
<a href="http://github.com/visionmedia/expresso">expresso</a>,
<a href="http://github.com/tmpvar/mjsunit.runner">mjsunit.runner</a></p></li></ul>

<p>Patches to this list are welcome.</p>
  </div>
  <script type="text/javascript" src="./documentation_files/sh_main.js"></script>
  <script type="text/javascript" src="./documentation_files/sh_javascript.min.js"></script>
  <script type="text/javascript" src="./documentation_files/core.js"></script>

</body></html>